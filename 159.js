/*! For license information please see 159.js.LICENSE.txt */
"use strict";(self.webpackChunkcoding_with_chrome=self.webpackChunkcoding_with_chrome||[]).push([[159],{9159:(e,t,n)=>{n.r(t),n.d(t,{TerminalGui:()=>p});var i=n(9439),r=n(5671),s=n(3144),l=n(7326),o=n(136),a=n(2963),c=n(1120),m=n(6145),h=n(2960),u=n(6662),d=n(2320);function f(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=(0,c.Z)(e);if(t){var r=(0,c.Z)(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return(0,a.Z)(this,n)}}var p=function(e){(0,o.Z)(n,e);var t=f(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this,h.kernel)).shell=new m.N,e.shell.registerTerminal((0,l.Z)(e)),e.shell.registerFileSystem(h.kernel.requestFileSystem()),e.shell.registerTty(e.tty),e.terminal=new d.Terminal({cursorBlink:!0,fontFamily:"Ubuntu Mono, courier-new, courier, monospace",scrollback:1e3,tabStopWidth:8}),e.isDoubleTab=!1,e}return(0,s.Z)(n,[{key:"open",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.getElementById("cwc-terminal");t?(this.terminal.open(t),this.terminal.writeln("Hello [1;3;31m".concat(this.shell.env.USER,"[0m from ").concat(this.tty)),this.terminal.onKey((function(t){e.input(t)})),this.shell.prompt()):console.error("Unable to find target element:",t)}},{key:"close",value:function(){this.terminal&&(console.debug("Closing terminal ..."),this.terminal.dispose())}},{key:"input",value:function(e){if(!this.locked)if(console.debug("Terminal input event:",e),"Enter"==e.domEvent.key){if("reset"==this.command)this.terminal.reset(),this.shell.prompt();else if(""==this.command.trim())this.shell.prompt();else if(this.command){var t=this.command.split(/ (.*)/),n=(0,i.Z)(t,2),r=n[0],s=n[1];this.shell.handleCommand(r,s)}this.command="",this.isDoubleTab=!1}else if("Backspace"==e.domEvent.key)this.command.length>0&&(this.terminal.write("\b \b"),this.command=this.command.substring(0,this.command.length-1));else if("Tab"==e.domEvent.key)if(this.command.includes(" ")){var l=this.command.split(/ (.*)/),o=(0,i.Z)(l,2),a=o[0],c=o[1];this.shell.handleAutocomplete(a,c,this.isDoubleTab),this.isDoubleTab=!0}else{this.shell.getCommandStartedWith(this.command)&&(this.terminal.write(" "),this.command=this.command+" ")}else"ArrowUp"==e.domEvent.key||"ArrowDown"==e.domEvent.key||e.key&&(this.command+=e.key,this.terminal.write(e.key))}},{key:"write",value:function(e){this.terminal.write("\r\n"+e)}},{key:"append",value:function(e){this.terminal.write(e)}}]),n}(u.o)}}]);