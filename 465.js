/*! For license information please see 465.js.LICENSE.txt */
"use strict";(self.webpackChunkcoding_with_chrome=self.webpackChunkcoding_with_chrome||[]).push([[465],{3465:(e,t,n)=>{n.r(t),n.d(t,{render:()=>ee});var a=n(745),i=n(7294),r=n(9655),o=n(9250),l=n(8752),s=n(5059),p=n(5538),d=n(1072);l.ZP.use(p.Z).use(s.Z).use(d.Db).init({lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1},backend:{loadPath:location.host.endsWith(".github.io")?location.pathname+"locales/{{lng}}/{{ns}}.json":"/locales/{{lng}}/{{ns}}.json"}});var c=n(5671),u=n(3144),h=n(136),m=n(2963),v=n(1120),_=n(7326),b=n(3720),k=n(6914),f=n(4386),C=n(2658);const y="ooL18yJ_eDgtcR9PV9TA",g="z_eFNH065aWwhjm1ruOG";function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var I=function(e){(0,h.Z)(n,e);var t=F(n);function n(e){var a;return(0,c.Z)(this,n),(a=t.call(this,e)).state={drawer:!1},a.handleDrawerToggle=a.handleDrawerToggle.bind((0,_.Z)(a)),a.languages={en:{nativeName:"English"},de:{nativeName:"Deutsch"}},a}return(0,u.Z)(n,[{key:"handleDrawerToggle",value:function(){this.setState({drawer:!this.state.drawer})}},{key:"render",value:function(){var e=this;return i.createElement(i.StrictMode,null,i.createElement(b.Z,{position:"static"},i.createElement(f.Z,{className:y},i.createElement(C.Z,{variant:"h6",className:g},"Coding with Chrome"),Object.keys(this.languages).map((function(t){return i.createElement(k.Z,{color:"inherit",key:t,style:{fontWeight:l.ZP.resolvedLanguage===t?"bold":"normal"},type:"submit",onClick:function(){return l.ZP.changeLanguage(t)}},e.languages[t].nativeName)})),i.createElement(k.Z,{color:"inherit"},l.ZP.t("Login")))))}}]),n}(i.PureComponent),E=n(4492),P=n(6214),w=n(8508),S=n(6867),O=n(4680),T=n(5863),R=n(6725),Z=n(0),x=n(7304),A=n(1256),G=n(7928);const D="BUNe1a2jJTYd5F4QHP9k",j="gwrrTjQoG2pg6Orjz4t3";var N=n(7772);n(6512);function B(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var L=function(e){(0,h.Z)(r,e);var t=B(r);function r(e){var n;return(0,c.Z)(this,r),(n=t.call(this,e)).state={drawer:!1,launcher:!0},n.handleDrawerToggle=n.handleDrawerToggle.bind((0,_.Z)(n)),n.handleLauncherToggle=n.handleLauncherToggle.bind((0,_.Z)(n)),n.openTerminal=n.openTerminal.bind((0,_.Z)(n)),n}return(0,u.Z)(r,[{key:"handleDrawerToggle",value:function(){this.setState({drawer:!this.state.drawer})}},{key:"handleLauncherToggle",value:function(){this.setState({launcher:!this.state.launcher})}},{key:"openGameEditor",value:function(){console.debug("Open Game"),Promise.resolve().then(n.bind(n,2070)).then((function(e){N.f.addNewWindow("GameEditor").then((function(t){var n=N.f.getWindowNode(t);n instanceof HTMLElement&&a.s(n).render(i.createElement(e.GameEditor,{windowId:t}))}))}))}},{key:"openBlockEditor",value:function(){console.debug("Open Editor"),Promise.resolve().then(n.bind(n,5393)).then((function(e){N.f.addNewWindow("BlockEditor").then((function(t){var n=N.f.getWindowNode(t);n instanceof HTMLElement&&a.s(n).render(i.createElement(e.BlockEditor,{windowId:t}))}))}))}},{key:"openCodeEditor",value:function(){console.debug("Open Editor"),Promise.resolve().then(n.bind(n,286)).then((function(e){N.f.addNewWindow("CodeEditor").then((function(t){var n=N.f.getWindowNode(t);n instanceof HTMLElement&&a.s(n).render(i.createElement(e.CodeEditor,{windowId:t}))}))}))}},{key:"openPreview",value:function(){console.debug("Open Preview"),n.e(888).then(n.bind(n,7888)).then((function(e){N.f.addNewWindow("Preview").then((function(t){var n=N.f.getWindowNode(t);n instanceof HTMLElement&&a.s(n).render(i.createElement(e.Preview,{windowId:t}))}))}))}},{key:"openTerminal",value:function(){console.debug("Open Terminal"),Promise.all([n.e(320),n.e(960),n.e(159)]).then(n.bind(n,9159)).then((function(e){N.f.addNewWindow("Terminal").then((function(t){var n=N.f.getWindowNode(t);if(n instanceof HTMLElement){var a=new e.TerminalGui;a.open(n),t&&N.f.windowManagerEventTarget.addEventListener("windowClose",(function(e){e.getWindowId()==t&&a.close()}))}}))}))}},{key:"render",value:function(){return i.createElement(i.StrictMode,null,i.createElement(O.Z,{elevation:3,className:"".concat(D," ").concat(this.state.launcher?"show":"hide")},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:this.handleDrawerToggle},i.createElement(E.Z,null)),i.createElement(x.Z,{title:"Open Game Editor"},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"File",onClick:this.openGameEditor},i.createElement(R.Z,null))),i.createElement(x.Z,{title:"Open Block Editor"},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"File",onClick:this.openBlockEditor},i.createElement(w.Z,null))),i.createElement(x.Z,{title:"Open Editor"},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"File",onClick:this.openCodeEditor},i.createElement(P.Z,null))),i.createElement(x.Z,{title:"Open Preview"},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"File",onClick:this.openPreview},i.createElement(T.Z,null))),i.createElement(x.Z,{title:"Open Terminal"},i.createElement(S.Z,{edge:"start",color:"inherit","aria-label":"Terminal",onClick:this.openTerminal},i.createElement(Z.Z,null))),i.createElement("div",{className:j,onClick:this.handleLauncherToggle},this.state.launcher?i.createElement(A.Z,null):i.createElement(G.Z,null))))}}]),r}(i.PureComponent);const V="Wyzba8tFcns857WWxCGk";function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var U=function(e){(0,h.Z)(n,e);var t=H(n);function n(e){return(0,c.Z)(this,n),t.call(this,e)}return(0,u.Z)(n,[{key:"render",value:function(){return i.createElement(i.StrictMode,null,i.createElement("div",{className:V},i.createElement(I,null),i.createElement(L,null),i.createElement(N.f,null)))}}]),n}(i.PureComponent),M=n(2070),K=n(5725),W=n(6186),z=n(3155),Y=n(2675),X=n(6024);const J="bR8Oa8YR2XRda6cBIIDK",q="Qo7KVy5erVdDulfdu09C";function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,v.Z)(e);if(t){var i=(0,v.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,m.Z)(this,n)}}var $=function(e){(0,h.Z)(n,e);var t=Q(n);function n(){return(0,c.Z)(this,n),t.apply(this,arguments)}return(0,u.Z)(n,[{key:"render",value:function(){return i.createElement("div",{className:J},i.createElement(K.ZP,{container:!0,spacing:3,direction:"column",alignItems:"center"},i.createElement(K.ZP,{item:!0},i.createElement(C.Z,{variant:"h4",align:"center"},"Welcome to the Select Screen")),i.createElement(K.ZP,{item:!0},i.createElement(W.Z,{severity:"warning"},i.createElement(z.Z,null,"Experimental Version"),"This version is experimental and not fully functional. Use at your own risk.")),i.createElement(K.ZP,{item:!0},i.createElement(k.Z,{component:r.rU,to:"/desktop",variant:"contained",className:q,startIcon:i.createElement(Y.Z,null)},"Desktop Version")),i.createElement(K.ZP,{item:!0},i.createElement(k.Z,{component:r.rU,to:"/game_editor",variant:"contained",className:q,startIcon:i.createElement(X.Z,null)},"Game Editor"))))}}]),n}(i.PureComponent);function ee(e){a.s(e).render(i.createElement(i.Suspense,{fallback:"...is loading"},i.createElement(r.UT,null,i.createElement(o.Z5,null,i.createElement(o.AW,{path:"/desktop",element:i.createElement(U,null)}),i.createElement(o.AW,{path:"/game_editor",element:i.createElement(M.GameEditor,null)}),i.createElement(o.AW,{path:"/",element:i.createElement($,null)})))))}},5393:(e,t,n)=>{n.r(t),n.d(t,{BlockEditor:()=>G});var a=n(5861),i=n(5671),r=n(3144),o=n(7326),l=n(136),s=n(2963),p=n(1120),d=n(4687),c=n.n(d),u=n(7294),h=n(5697),m=n.n(h),v=n(3720),_=n(1508),b=n(6914),k=n(6214),f=n(6867),C=n(326),y=n(5863),g=n(4993),F=n(4386),I=n(5378),E=n(8721),P=n(8413),w=n(286),S=n(7772),O=(n(6512),n(5466));const T="qelWOQl5WslSK89sNBK7",R="vxx2yxyOkh2NfBYiBm3p",Z="y3QTB9L83v0kNzSYnJOR";var x=n(5817);function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var G=function(e){(0,l.Z)(s,e);var t,n=A(s);function s(e){var t;return(0,i.Z)(this,s),(t=n.call(this,e)).projectId=e.projectId||(0,E.Z)(),t.blockyWorkspace=null,t.codeEditor=(0,u.createRef)(),t.toolbar=(0,u.createRef)(),t.state={showEditor:!1,xml:'<xml xmlns="http://www.w3.org/1999/xhtml"><block type="text" x="70" y="30"><field name="TEXT"></field></block></xml>',javascriptCode:""},S.f.windowManagerEventTarget.addEventListener("windowResize",t.handleWindowResize.bind((0,o.Z)(t))),t}return(0,r.Z)(s,[{key:"showBlockEditor",value:function(){console.log("Show Block Editor ..."),this.setState({showEditor:!1})}},{key:"showPreview",value:function(){console.log("Show Preview ...");var e=this.getWorkspaceCode();x.m.saveHTMLFile("".concat(this.projectId,"/"),e)}},{key:"showCodeEditor",value:(t=(0,a.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Show Code Editor ..."),t=this.getWorkspaceCode(),this.codeEditor&&this.codeEditor.current.setValue(t),this.setState({showEditor:!0});case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getWorkspaceCode",value:function(){var e=O.javascriptGenerator.workspaceToCode(this.blockyWorkspace)||"";return this.props.template&&"function"==typeof this.props.template&&(e=this.props.template(e,this.projectId)),e}},{key:"handleUndo",value:function(){var e;console.log("Undo ..."),null===(e=this.blockyWorkspace)||void 0===e||e.undo(!1)}},{key:"handleRedo",value:function(){var e;console.log("Redo ..."),null===(e=this.blockyWorkspace)||void 0===e||e.undo(!0)}},{key:"onChange",value:function(e){console.log("change",e,this.blockyWorkspace)}},{key:"onLoad",value:function(e){this.blockyWorkspace=e,this.resize()}},{key:"handleWindowResize",value:function(e){e.getWindowId()==this.props.windowId&&this.resize()}},{key:"resetZoom",value:function(){var e,t;null===(e=this.blockyWorkspace)||void 0===e||e.setScale(1),null===(t=this.blockyWorkspace)||void 0===t||t.scrollCenter()}},{key:"resize",value:function(){if(this.blockyWorkspace){var e=this.blockyWorkspace.getInjectionDiv().closest(".wb-body")||this.blockyWorkspace.getInjectionDiv().parentElement;if(console.log(e),e){var t=this.blockyWorkspace.getInjectionDiv().parentElement;t&&t!=e&&(this.toolbar.current?t.style.height=e.clientHeight-this.toolbar.current.clientHeight+"px":t.style.height=e.clientHeight+"px")}window.dispatchEvent(new Event("resize")),this.resetZoom()}}},{key:"getToolboxCategory",value:function(){return{kind:"categoryToolbox",contents:[{kind:"category",name:"Logic",colour:"#5C81A6",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"}]},{kind:"category",name:"Math",colour:"#5CA65C",contents:[{kind:"block",type:"math_round"},{kind:"block",type:"math_number"}]},{kind:"category",name:"Custom",colour:"#5CA699",contents:[{kind:"block",type:"new_boundary_function"},{kind:"block",type:"return"}]}]}}},{key:"render",value:function(){var e=this;return u.createElement(u.StrictMode,null,u.createElement(_.Z,{sx:{display:this.state.showEditor?"none":"block"}},u.createElement(v.Z,{position:"static"},u.createElement(F.Z,{variant:"dense",className:Z,ref:this.toolbar},u.createElement(f.Z,{edge:"start",color:"inherit","aria-label":"menu"},u.createElement(C.Z,null)),u.createElement(f.Z,{edge:"start",color:"inherit","aria-label":"undo",onClick:this.handleUndo.bind(this)},u.createElement(I.Z,null)),u.createElement(f.Z,{edge:"start",color:"inherit","aria-label":"redo",onClick:this.handleRedo.bind(this)},u.createElement(g.Z,null)),u.createElement(b.Z,{variant:"contained"},"Create new Variable"),u.createElement(f.Z,{edge:"start",color:"inherit","aria-label":"preview",onClick:this.showPreview.bind(this)},u.createElement(y.Z,null)),this.codeEditor&&u.createElement(f.Z,{edge:"start",color:"inherit","aria-label":"code",onClick:this.showCodeEditor.bind(this)},u.createElement(k.Z,null)))),u.createElement(P.E7,{className:this.props.windowId?R:T,toolboxConfiguration:this.props.toolbox||this.getToolboxCategory(),workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0},zoom:{controls:!0,startScale:.9,maxScale:3,minScale:.3,scaleSpeed:1.2},trashcan:!1},initialXml:this.props.content||"",onInject:this.onLoad.bind(this),onXmlChange:function(t){return e.setState({xml:t})}})),u.createElement(_.Z,{sx:{display:this.state.showEditor?"block":"none"}},u.createElement(w.CodeEditor,{windowId:this.props.windowId,blockEditor:this,ref:this.codeEditor})))}}]),s}(u.PureComponent);G.propTypes={content:m().string,projectId:m().string,template:m().func,toolbox:m().object,windowId:m().string}},286:(e,t,n)=>{n.r(t),n.d(t,{CodeEditor:()=>w});var a=n(5671),i=n(3144),r=n(7326),o=n(136),l=n(2963),s=n(1120),p=(n(3239),n(4981)),d=n(3720),c=n(1508),u=n(6214),h=n(6867),m=n(326),v=n(5863),_=n(5697),b=n.n(_),k=n(7294),f=n(4993),C=n(4386),y=n(5378),g=(n(2679),n(7138),n(4203),n(7772));n(6512);const F="JAVmoUaQLBB4lUPhrfAj",I="teUPw9TATa_PS3pCy0sk";var E=n(5817);function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,s.Z)(e);if(t){var i=(0,s.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,l.Z)(this,n)}}var w=function(e){(0,o.Z)(n,e);var t=P(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).editorInstance=null,i.toolbar=k.createRef(),i.infobar=k.createRef(),g.f.windowManagerEventTarget.addEventListener("windowResize",i.handleWindowResize.bind((0,r.Z)(i))),i}return(0,i.Z)(n,[{key:"setValue",value:function(e){var t;console.log("Set editor content:",e),null===(t=this.editorInstance)||void 0===t||t.setValue(e,0)}},{key:"getValue",value:function(){var e;return(null===(e=this.editorInstance)||void 0===e?void 0:e.getValue())||""}},{key:"handleUndo",value:function(){var e;null===(e=this.editorInstance)||void 0===e||e.undo()}},{key:"handleRedo",value:function(){var e;null===(e=this.editorInstance)||void 0===e||e.redo()}},{key:"onChange",value:function(e){console.log("change",e,this.editorInstance)}},{key:"onLoad",value:function(e){this.editorInstance=e,console.debug("Editor Instance: ",this.editorInstance),this.resize()}},{key:"handleWindowResize",value:function(e){e.getWindowId()==this.props.windowId&&(console.log("Handle window resize from:",e.getWindowId()),this.resize())}},{key:"handlePreview",value:function(e){E.m.saveHTMLFile("index.html",this.getValue())}},{key:"resize",value:function(){if(this.editorInstance&&this.editorInstance.container){var e=this.editorInstance.container.closest(".wb-body")||this.editorInstance.container.parentElement;e&&e.clientHeight>100&&e.clientWidth>100&&(null!=this.toolbar.current&&null!=this.infobar.current?this.editorInstance.container.style.height=e.clientHeight-this.toolbar.current.clientHeight-this.infobar.current.clientHeight-1+"px":this.editorInstance.container.style.height=e.clientHeight+"px",this.editorInstance.container.style.width=e.clientWidth+"px"),this.editorInstance.resize()}}},{key:"render",value:function(){return k.createElement(k.StrictMode,null,k.createElement(d.Z,{position:"static"},k.createElement(C.Z,{variant:"dense",className:F,ref:this.toolbar},k.createElement(h.Z,{edge:"start",color:"inherit","aria-label":"menu"},k.createElement(m.Z,null)),k.createElement(h.Z,{edge:"start",color:"inherit","aria-label":"undo",onClick:this.handleUndo.bind(this)},k.createElement(y.Z,null)),k.createElement(h.Z,{edge:"start",color:"inherit","aria-label":"redo",onClick:this.handleRedo.bind(this)},k.createElement(f.Z,null)),this.props.blockEditor&&k.createElement(h.Z,{edge:"start",color:"inherit","aria-label":"code",onClick:this.props.blockEditor.showBlockEditor.bind(this.props.blockEditor)},k.createElement(u.Z,null)),k.createElement(h.Z,{edge:"start",color:"inherit","aria-label":"preview",onClick:this.handlePreview.bind(this)},k.createElement(v.Z,null)))),k.createElement(p.ZP,{mode:"java",theme:"github",onLoad:this.onLoad.bind(this),onChange:this.onChange.bind(this),name:this.props.windowId+"_editor",editorProps:{$blockScrolling:!0}}),k.createElement(c.Z,{className:I,ref:this.infobar},"Test"))}}]),n}(k.PureComponent);w.propTypes={blockEditor:b().object,projectId:b().string,windowId:b().string}},6512:(e,t,n)=>{n.d(t,{R:()=>d,S:()=>c});var a=n(5671),i=n(3144),r=n(136),o=n(2963),l=n(1120),s=n(2407);function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var d=function(e){(0,r.Z)(n,e);var t=p(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,"windowClose")).windowId=e,i}return(0,i.Z)(n,[{key:"getWindowId",value:function(){return this.windowId}}]),n}((0,s.Z)(CustomEvent)),c=function(e){(0,r.Z)(n,e);var t=p(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,"windowResize")).windowId=e,i}return(0,i.Z)(n,[{key:"getWindowId",value:function(){return this.windowId}}]),n}((0,s.Z)(CustomEvent))},7772:(e,t,n)=>{n.d(t,{f:()=>f});var a=n(3433),i=n(5671),r=n(3144),o=n(7326),l=n(136),s=n(2963),p=n(1120),d=n(4942),c=n(7294),u=n(3818),h=n.n(u),m=(0,r.Z)((function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:200,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:200;(0,i.Z)(this,e),this.id=t,this.title=n,this.width=a,this.height=r,this.x=o,this.y=l,this.noClose=!1})),v=n(6512);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){(0,d.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,p.Z)(e);if(t){var i=(0,p.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,s.Z)(this,n)}}var f=function(e){(0,l.Z)(n,e);var t=k(n);function n(e){var a;return(0,i.Z)(this,n),(a=t.call(this,e)).state={windows:new Map},n.component=(0,o.Z)(a),a}return(0,r.Z)(n,[{key:"handleClose",value:function(e,t){n.windowManagerEventTarget.dispatchEvent(new v.R(e)),t||(console.log("Prepare closing windows with id",e,t),n.windowsMap.delete(e),n.updateData())}},{key:"handleResize",value:function(e,t,a){console.debug("Resize request for ".concat(e," with ").concat(t," ").concat(a," ...")),n.windowManagerEventTarget.dispatchEvent(new v.S(e))}},{key:"render",value:function(){var e=this;return c.createElement(c.StrictMode,null,(0,a.Z)(this.state.windows.keys()).map((function(t){return c.createElement(h(),{key:e.state.windows.get(t).id,id:e.state.windows.get(t).id,x:e.state.windows.get(t).x,y:e.state.windows.get(t).y,title:e.state.windows.get(t).title,width:e.state.windows.get(t).width,height:e.state.windows.get(t).height,minHeight:160,top:50,onclose:function(n){return e.handleClose(t,n)},onresize:function(n,a){return e.handleResize(t,n,a)}})})))}}],[{key:"addNewWindow",value:function(e){return n.addWindow(b(b({},n.DEFAULT_WINDOW_OPTIONS),{},{title:e}))}},{key:"addWindow",value:function(e){var t=this,a=n.getWindowId(e.id||"unnamed_"+Math.random().toString(36).substring(2,5)),i=n.getWindowNode(a);return new Promise((function(r,o){i?i instanceof HTMLElement?(console.warn("Will use existing window with id ".concat(a,":"),i),r(a)):o(new Error("Existing element for ".concat(a," is no HTMLElement!"))):(console.info("Adding new window ".concat(a," with:"),e),n.lastXPosition<600?n.lastXPosition+=20:n.lastXPosition=10,n.lastYPosition<400?n.lastYPosition+=20:n.lastYPosition=50,t.updateWindowData(a,new m(a,e.title,500,300,n.lastXPosition,n.lastYPosition)).then((function(e){r(e)})))}))}},{key:"updateWindowData",value:function(e,t){return new Promise((function(a,i){n.windowsMap.set(e,t),n.component.setState({windows:n.windowsMap},(function(){n.component.forceUpdate(),setTimeout((function(){n.getWindowNode(e)?a(e):i(new Error("Unable to find element for ".concat(e,"!")))}),100)}))}))}},{key:"getWindowId",value:function(e){return e.startsWith(n.WINDOW_PREFIX)?e:n.WINDOW_PREFIX+e}},{key:"getWindowNode",value:function(e){return document.querySelector("#"+n.getWindowId(e)+" .wb-body")}},{key:"updateData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];n.component.setState({windows:n.windowsMap},(function(){t&&n.component.forceUpdate(),void 0!==e&&setTimeout((function(){e()}))}))}}]),n}(c.PureComponent);(0,d.Z)(f,"component",void 0),(0,d.Z)(f,"windowsMap",new Map),(0,d.Z)(f,"lastXPosition",20),(0,d.Z)(f,"lastYPosition",50),(0,d.Z)(f,"windowManagerEventTarget",new EventTarget),(0,d.Z)(f,"WINDOW_PREFIX","window_"),(0,d.Z)(f,"DEFAULT_WINDOW_OPTIONS",{title:"Unnamed",width:500,height:400,x:"center",y:50,noClose:!1})},2070:(e,t,n)=>{n.r(t),n.d(t,{GameEditor:()=>te});var a=n(5671),i=n(3144),r=n(136),o=n(2963),l=n(1120),s=n(6914),p=n(8140),d=n(3838),c=n(8979),u=n(7750),h=n(6408),m=n(7645),v=n(5697),_=n.n(v),b=n(7294),k=n(8136),f=n(2658),C=n(8752),y=n(8721),g={en:{adjectives:["adventurous","colorful","dynamic","unique","fabulous","fantastic","fearless","dangerous","sparkling","great","heroic","tricky","bold","lively","funny","magical","courageous","mystical","fantastic","raving","smoking","fast","fizzy","bubbling","stylish","unpredictable","daring","reckless","enchanting"],substantives:["Adventure","Aliens","Dragon","Dragons","Unicorns","Elves","Fairies","Mystery","Heroes","Witch","Witches","Goblin","Legends","Magic","Mermaids","Monsters","Fairy tales","Ninjas","Fantasy","Pirates","Knights","Robots","Treasure Island","Sword","Treasures","Superheroes","Dreams","Space","Wonderland","Magic","Wizards","Magic Wand","Zombies","Future"]},de:{adjectives:["abenteuerlich","bunt","dynamisch","einzigartig","fabelhaft","fantastisch","furchtlos","gefährlich","glitzernd","großartig","heldenhaft","knifflig","kühn","lebendig","lustig","magisch","magisch","mutig","mystisch","phantastisch","rasend","rauchend","schnell","spritzig","sprudelnd","stilvoll","unberechenbar","verwegen","waghalsig","zauberhaft"],substantives:["Abenteuer","Aliens","Drache","Drachen","Einhörner","Elfen","Feen","Geheimnis","Helden","Hexe","Hexen","Kobold","Legenden","Magie","Meerjungfrauen","Monster","Märchen","Ninjas","Phantasie","Piraten","Ritter","Roboter","Schatzinsel","Schwert","Schätze","Superhelden","Träume","Weltraum","Wunderland","Zauber","Zauberer","Zauberstab","Zombies","Zukunft"]}};const F=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"generate",value:function(){var e=g[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en"]||g.en,t=Math.floor(Math.random()*e.adjectives.length),n=Math.floor(Math.random()*e.substantives.length),a=e.adjectives[t],i=e.substantives[n];return"".concat(a.charAt(0).toUpperCase()+a.slice(1)," ").concat(i.charAt(0).toUpperCase()+i.slice(1))}}]),e}();const I=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"render",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"<!DOCTYPE html>\n<html>\n  <head>\n    ".concat(t?"<title>".concat(t,"</title>"):"<title>Phaser Game</title>","\n    ").concat(location.host.endsWith(".github.io")?t?'<base href="'.concat(location.pathname,"preview/").concat(t,'/" />'):"":t?'<base href="/preview/'.concat(t,'/" />'):"",'\n    <style>\n      * {\n        margin: 0;\n        padding: 0;\n      }\n      html,\n      body {\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n      canvas {\n        display: block;\n      }\n    </style>\n    <script src="/framework/phaser.min.js"><\/script>\n  </head>\n  <body>\n    <script>\n    ').concat(e,"\n    <\/script>\n  </body>\n</html>")}}]),e}();const E=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"render",value:function(){return'\n<xml xmlns="http://www.w3.org/1999/xhtml">\n  <block type="phaser_game" x="-250" y="-250">\n    <field name="name">'.concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"My first Game",'</field>\n    <field name="width">0</field>\n    <field name="height">0</field>\n    <next>\n      <block type="phaser_game_state">\n        <field name="name">main</field>\n        <field name="autostart">true</field>\n        <statement name="state">\n          <block type="phaser_preload">\n            <next>\n              <block type="phaser_create">\n                <next>\n                  <block type="phaser_input">\n                    <next>\n                      <block type="phaser_update">\n                        <next>\n                          <block type="phaser_render" collapsed="true"/>\n                        </next>\n                      </block>\n                    </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </next>\n  </block>\n</xml>')}}]),e}();var P=n(5393),w=n(4948),S=n.n(w),O=n(5466),T=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"phaserImage",value:function(t){return e.phaserImages(t)}},{key:"phaserImages",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!1,n=[],a=S().getMainWorkspace().getAllBlocks(!0),i=0;i<a.length;i++){var r=a[i];if(r&&"phaser_load_image"===r.type&&!r.disabled&&void 0!==r.childBlocks_[0]){var o=r.inputList[0].fieldRow[2].text_,l=r.childBlocks_[0].inputList,s=l[0].fieldRow[0].src_||l[1].fieldRow[0].src_,p=[s?{src:s,width:50,height:50}:o,o];e&&o===e?(n.unshift(p),t=!0):n.push(p)}}return e&&!t&&n.unshift([e,e]),n.length||n.push(["none","none"]),n}},{key:"validateText",value:function(e){return e.replace(/'/g,"").replace(/\\/g,"")}},{key:"validateNumber",value:function(e){return Number(e.replace(/[^\d.-]/g,""))}}]),e}(),R=n(4942),Z=(0,i.Z)((function e(){(0,a.Z)(this,e)}));(0,R.Z)(Z,"basePath",location.host.endsWith(".github.io")?location.pathname:"/"),(0,R.Z)(Z,"point",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/circle_20pt.png",15,17,"▼")})),(0,R.Z)(Z,"pointTop",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/circle_20pt_top.png",15,17,"▼")})),(0,R.Z)(Z,"addCircle",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/add_circle_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"collide",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/collide_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"event",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/event_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"runningMan",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/running_man_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"adjust",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/adjust_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"image",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/image_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"mouse",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/mouse_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"keyboard",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/keyboard_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"repeat",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/repeat_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"fileDownload",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/file_download_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"storage",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/storage_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"audio",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/audio_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"timer",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/timer_20pt.png",18,18,"▼")})),(0,R.Z)(Z,"timelapse",(function(){return new(S().FieldImage)(Z.basePath+"assets/icons/timelapse_20pt.png",18,18,"▼")})),w.Blocks.phaser_physics_arcade_sprite_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("physics sprite")).appendField(new(S().FieldDropdown)(T.phaserImage("player")),"sprite").appendField(Z.image()).appendField(C.ZP.t("position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(5),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_add=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return n+" = game.add.sprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", '"+t+"');\ngame.physics.arcade.enable("+n+");\n"},w.Blocks.phaser_physics_arcade_sprite_ball_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("ball")).appendField(new(S().FieldDropdown)(T.phaserImage("ball")),"sprite").appendField(Z.image()).appendField(C.ZP.t("position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y"),this.appendStatementInput("CODE").setCheck("PhysicsArcadeAttribute"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(5),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_ball_add=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return n+" = game.add.sprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", '"+t+"');\ngame.physics.arcade.enable("+n+");\n(function(arcadeSpriteCustom) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"}("+n+"));\n"},w.Blocks.phaser_physics_arcade_sprite_player_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("player")).appendField(new(S().FieldDropdown)(T.phaserImage("player")),"sprite").appendField(Z.image()).appendField(C.ZP.t("position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y"),this.appendStatementInput("CODE").setCheck("PhysicsArcadeAttribute"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(5),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_player_add=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return n+" = game.add.sprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", '"+t+"');\ngame.physics.arcade.enable("+n+");\n(function(arcadeSpriteCustom) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"}("+n+"));\n"},w.Blocks.phaser_physics_arcade_sprite_paddle_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("paddle")).appendField(new(S().FieldDropdown)(T.phaserImage("paddle")),"sprite").appendField(Z.image()).appendField(C.ZP.t("position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y"),this.appendStatementInput("CODE").setCheck("PhysicsArcadeAttribute"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(5),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_paddle_add=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return n+" = game.add.sprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", '"+t+"');\ngame.physics.arcade.enable("+n+");\n(function(arcadeSpriteCustom) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"}("+n+"));\n"},w.Blocks.phaser_physics_arcade_sprite_adjust={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("BLOCKS_SET")).appendField(C.ZP.t("physics sprite")),this.appendDummyInput().appendField(new(S().FieldDropdown)([[C.ZP.t("acceleration"),"acceleration.set"],[C.ZP.t("angle"),"angle"],[C.ZP.t("angular velocity"),"angularVelocity"],[C.ZP.t("bounce x"),"bounce.x"],[C.ZP.t("bounce y"),"bounce.y"],[C.ZP.t("bounce"),"bounce.set"],[C.ZP.t("allow gravity"),"allowGravity"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_DOWN"),"checkCollision.down"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_UP"),"checkCollision.up"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_LEFT"),"checkCollision.left"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_RIGHT"),"checkCollision.right"],[C.ZP.t("collide world bounds"),"collideWorldBounds"],[C.ZP.t("gravity x"),"gravity.x"],[C.ZP.t("gravity y"),"gravity.y"],[C.ZP.t("immovable"),"immovable"],[C.ZP.t("velocity x"),"velocity.x"],[C.ZP.t("velocity y"),"velocity.y"],[C.ZP.t("velocity"),"velocity"],[C.ZP.t("BLOCKS_WIDTH"),"width"],[C.ZP.t("BLOCKS_HEIGHT"),"height"],[C.ZP.t("x"),"x"],[C.ZP.t("y"),"y"],[C.ZP.t("z"),"z"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_TO")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_adjust=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)||t,a=e.getFieldValue("property"),i=O.javascriptGenerator.valueToCode(e,"value",O.javascriptGenerator.ORDER_ATOMIC);switch(a){case"angle":case"height":case"width":case"x":case"y":case"z":return n+"."+a+" = "+i+";\n";case"acceleration.set":case"bounce.set":return n+".body."+a+"("+i+");\n";case"allowGravity":case"checkCollision.down":case"checkCollision.up":case"collideWorldBounds":case"immovable":return n+".body."+a+" = "+!(!i||"0"===i)+";\n";case"moveUp":return n+".y -= "+i+";\n";case"moveDown":return n+".y += "+i+";\n";case"moveLeft":return n+".x -= "+i+";\n";case"moveRight":return n+".x += "+i+";\n";default:return n+".body."+a+" = "+i+";\n"}},w.Blocks.phaser_physics_arcade_sprite_adjust_custom={init:function(){this.appendDummyInput().appendField(C.ZP.t("BLOCKS_SET")).appendField(new(S().FieldDropdown)([[C.ZP.t("acceleration"),"acceleration.set"],[C.ZP.t("angle"),"angle"],[C.ZP.t("angular velocity"),"angularVelocity"],[C.ZP.t("bounce x"),"bounce.x"],[C.ZP.t("bounce y"),"bounce.y"],[C.ZP.t("bounce"),"bounce.set"],[C.ZP.t("allow gravity"),"allowGravity"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_DOWN"),"checkCollision.down"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_UP"),"checkCollision.up"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_LEFT"),"checkCollision.left"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_RIGHT"),"checkCollision.right"],[C.ZP.t("collide world bounds"),"collideWorldBounds"],[C.ZP.t("gravity x"),"gravity.x"],[C.ZP.t("gravity y"),"gravity.y"],[C.ZP.t("immovable"),"immovable"],[C.ZP.t("velocity x"),"velocity.x"],[C.ZP.t("velocity y"),"velocity.y"],[C.ZP.t("velocity"),"velocity"],[C.ZP.t("BLOCKS_WIDTH"),"width"],[C.ZP.t("BLOCKS_HEIGHT"),"height"],[C.ZP.t("x"),"x"],[C.ZP.t("y"),"y"],[C.ZP.t("z"),"z"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_TO")),this.setPreviousStatement(!0,["PhysicsArcadeAttribute"]),this.setNextStatement(!0,["PhysicsArcadeAttribute"]),this.setInputsInline(!0),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_adjust_custom=function(e){return O.javascriptGenerator.phaser_physics_arcade_sprite_adjust(e,"arcadeSpriteCustom")},O.javascriptGenerator.phaser_physics_arcade_sprite_adjust_dimension_custom=function(e){return O.javascriptGenerator.phaser_physics_arcade_sprite_adjust_dimension(e,"arcadeSpriteCustom")},w.Blocks.phaser_physics_arcade_sprite_adjust_dimension={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("BLOCKS_SET")).appendField(C.ZP.t("physics sprite")),this.appendDummyInput().appendField(C.ZP.t("dimension to")),this.appendValueInput("width").setCheck("Number"),this.appendValueInput("height").appendField("x").setCheck("Number"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_adjust_dimension=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)||t;return n+".width = "+(O.javascriptGenerator.valueToCode(e,"width",O.javascriptGenerator.ORDER_ATOMIC)||50)+";\n"+n+".height = "+(O.javascriptGenerator.valueToCode(e,"height",O.javascriptGenerator.ORDER_ATOMIC)||50)+";\n"},w.Blocks.phaser_physics_arcade_sprite_adjust_dimension_custom={init:function(){this.appendDummyInput().appendField(C.ZP.t("BLOCKS_SET")).appendField(C.ZP.t("dimension to")),this.appendValueInput("width").setCheck("Number"),this.appendValueInput("height").appendField("x").setCheck("Number"),this.setPreviousStatement(!0,["PhysicsArcadeAttribute"]),this.setNextStatement(!0,["PhysicsArcadeAttribute"]),this.setInputsInline(!0),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},w.Blocks.phaser_physics_arcade_sprite_destroy={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_DESTROY")).appendField(C.ZP.t("tile sprite")),this.appendValueInput("variable"),this.setInputsInline(!0),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_destroy=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".destroy();\n"},w.Blocks.phaser_physics_arcade_sprite_kill={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_KILL")).appendField(C.ZP.t("tile sprite")),this.appendValueInput("variable"),this.setInputsInline(!0),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_sprite_kill=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".kill();\n"},w.Blocks.phaser_physics_arcade_enable={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_PHYSICS_ARCADE_ENABLE")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_enable=function(e){return"game.physics.arcade.enable("+O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+");\n"},w.Blocks.phaser_physics_arcade_out_of_bounds={init:function(){this.appendDummyInput().appendField(Z.collide()).appendField(C.ZP.t("BLOCKS_PHASER_ON_OUT_OF_BOUNDS")),this.appendValueInput("variable"),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")),this.setInputsInline(!0),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_out_of_bounds=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+".checkWorldBounds = true;\n"+t+".events.onOutOfBounds.add(function() {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"}, this);\n"},w.Blocks.phaser_physics_arcade_overlap={init:function(){this.appendDummyInput().appendField(Z.collide()).appendField(C.ZP.t("on collision between")),this.appendValueInput("object1"),this.appendDummyInput().appendField(C.ZP.t("and")),this.appendValueInput("object2"),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")),this.setInputsInline(!0),this.setPreviousStatement(!0,"Update"),this.setNextStatement(!0,"Update"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_overlap=function(e){return"game.physics.arcade.overlap("+O.javascriptGenerator.valueToCode(e,"object1",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"object2",O.javascriptGenerator.ORDER_ATOMIC)+", function(object1, object2) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"}, null, this);\n"},w.Blocks.phaser_physics_arcade_collide={init:function(){this.appendValueInput("object1").appendField(Z.collide()),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_PHASER_COLLIDE_WITH")),this.appendValueInput("object2"),this.setPreviousStatement(!0,"Update"),this.setNextStatement(!0,"Update"),this.setColour(0),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_physics_arcade_collide=function(e){return"game.physics.arcade.collide("+O.javascriptGenerator.valueToCode(e,"object1",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"object2",O.javascriptGenerator.ORDER_ATOMIC)+");\n"},w.Blocks.phaser_create={init:function(){this.appendDummyInput().appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_PHASER_ON_CREATE")),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")).setAlign(S().ALIGN_CENTRE).setCheck(["Create"]),this.setPreviousStatement(!0,"Create_"),this.setNextStatement(!0,["Update_","Input_"]),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_create=function(e){return"create: function(e) {\n  block_group = null;\n  obstacle_group = null;\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"},\n"},w.Blocks.phaser_stage_background_color={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("set background color")).appendField(new(S().FieldColour)("#000000"),"color"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_stage_background_color=function(e){return"game.stage.backgroundColor = '"+e.getFieldValue("color")+"';\n"},w.Blocks.phaser_add_background={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("add background image")).appendField(new(S().FieldDropdown)(T.phaserImage("bg_01")),"sprite").appendField(Z.image()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_add_background=function(e){return"game.add.image(0, 0, '"+e.getFieldValue("sprite")+"');\n"},w.Blocks.phaser_add_background_scaled={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("add background image")).appendField(new(S().FieldDropdown)(T.phaserImage("bg_01")),"sprite").appendField(Z.image()).appendField("with size").appendField(new(S().FieldNumber)(0,0,5760),"width").appendField("x").appendField(new(S().FieldNumber)(0,0,2160),"height"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_add_background_scaled=function(e){return"var backgroundImage = game.add.image(0, 0, '"+e.getFieldValue("sprite")+"');\nbackgroundImage.width = "+(Number(e.getFieldValue("width"))||"game.world.width")+";\nbackgroundImage.height = "+(Number(e.getFieldValue("height"))||"game.world.height")+";\n"},w.Blocks.phaser_sprite_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS__DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as sprite")).appendField(new(S().FieldDropdown)(T.phaserImage("sprite")),"sprite").appendField(Z.image()).appendField(C.ZP.t("with")).appendField(C.ZP.t("position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_add=function(e){var t=e.getFieldValue("sprite");return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+" = game.add.sprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", '"+t+"');\n"},w.Blocks.phaser_sprite_adjust={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("set sprite")),this.appendDummyInput().appendField(new(S().FieldDropdown)([[C.ZP.t("alpha transparent"),"alpha"],[C.ZP.t("angle"),"angle"],[C.ZP.t("anchor"),"anchor.set"],[C.ZP.t("buttonMode"),"buttonMode"],[C.ZP.t("BLOCKS__HEIGHT"),"height"],[C.ZP.t("move down"),"moveDown"],[C.ZP.t("move left"),"moveLeft"],[C.ZP.t("move right"),"moveRight"],[C.ZP.t("move up"),"moveUp"],[C.ZP.t("rotation"),"rotation"],[C.ZP.t("visible"),"visible"],[C.ZP.t("BLOCKS__WIDTH"),"width"],[C.ZP.t("x"),"x"],[C.ZP.t("y"),"y"],[C.ZP.t("z"),"y"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS__TO")),this.setPreviousStatement(!0,["Create","Input","Update"]),this.setNextStatement(!0,["Create","Input","Update"]),this.setColour(225),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_adjust=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),n=e.getFieldValue("property"),a=O.javascriptGenerator.valueToCode(e,"value",O.javascriptGenerator.ORDER_ATOMIC);switch(n){case"anchor.set":return t+"."+n+"("+a+");\n";case"moveUp":return t+".y -= "+a+";\n";case"moveDown":return t+".y += "+a+";\n";case"moveLeft":return t+".x -= "+a+";\n";case"moveRight":return t+".x += "+a+";\n";default:return t+"."+n+" = "+a+";\n"}},w.Blocks.phaser_sprite_adjust_dimension={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("set sprite")),this.appendDummyInput().appendField(C.ZP.t("dimension to")),this.appendValueInput("width").setCheck("Number"),this.appendValueInput("height").appendField("x").setCheck("Number"),this.setPreviousStatement(!0,["Create","Input","Update"]),this.setNextStatement(!0,["Create","Input","Update"]),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_adjust_dimension=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+".width = "+(O.javascriptGenerator.valueToCode(e,"width",O.javascriptGenerator.ORDER_ATOMIC)||50)+";\n"+t+".height = "+(O.javascriptGenerator.valueToCode(e,"height",O.javascriptGenerator.ORDER_ATOMIC)||50)+";\n"},w.Blocks.phaser_sprite_get={init:function(){this.appendValueInput("variable").appendField(C.ZP.t("get sprite")),this.appendDummyInput().appendField(new(S().FieldDropdown)([[C.ZP.t("angle"),"angle"],["x","x"],["y","y"]]),"property"),this.setOutput(!0,null),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_get=function(e){return[O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+"."+e.getFieldValue("property"),O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_sprite_destroy={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS__DESTROY")).appendField(C.ZP.t("sprite")),this.appendValueInput("variable"),this.setInputsInline(!0),this.setPreviousStatement(!0,["Create","Input","Update"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_destroy=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".destroy();\n"},w.Blocks.phaser_sprite_immovable={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("set sprite")),this.appendDummyInput().appendField(C.ZP.t("as immovable by other objects")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(230),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_sprite_immovable=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return"game.physics.arcade.enable("+t+");\n"+t+".body.immovable = true;\n"},w.Blocks.phaser_time_event={init:function(){this.appendValueInput("time").setCheck("Number").appendField(Z.timelapse()).appendField(C.ZP.t("BLOCKS_PHASER_TIME_EVENT")),this.appendDummyInput().appendField(C.ZP.t("milliseconds")),this.appendStatementInput("func").appendField(C.ZP.t("BLOCKS_DO")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_time_event=function(e){return"game.time.events.add("+O.javascriptGenerator.valueToCode(e,"time",O.javascriptGenerator.ORDER_ATOMIC)+", function() {\n"+O.javascriptGenerator.statementToCode(e,"func")+"}, this);\n"},w.Blocks.phaser_time_loop_event={init:function(){this.appendValueInput("time").setCheck("Number").appendField(Z.repeat()).appendField(C.ZP.t("BLOCKS_PHASER_TIME_LOOP_EVENT")),this.appendDummyInput().appendField(C.ZP.t("milliseconds")),this.appendStatementInput("func").appendField(C.ZP.t("BLOCKS_DO")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(30),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_time_loop_event=function(e){return"game.time.events.loop("+O.javascriptGenerator.valueToCode(e,"time",O.javascriptGenerator.ORDER_ATOMIC)+", function() {\n"+O.javascriptGenerator.statementToCode(e,"func")+"}, this);\n"},w.Blocks.phaser_update={init:function(){this.setHelpUrl(""),this.setColour(315),this.appendDummyInput().appendField(Z.repeat()).appendField(C.ZP.t("on update")),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")).setAlign(S().ALIGN_CENTRE).setCheck(["Update"]),this.setPreviousStatement(!0,"Update_"),this.setNextStatement(!0,"Render_"),this.setTooltip("")}},O.javascriptGenerator.phaser_update=function(e){return"update: function(e) {\n  if (e) {\n    this.input_(e);\n  }\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"},\n"},w.Blocks.phaser_game={init:function(){this.appendDummyInput().appendField(Z.runningMan()).appendField(C.ZP.t("Create Game with name")).appendField(new(S().FieldTextInput)("Unnamed Game",T.validateText),"name").appendField(C.ZP.t("and size")).appendField(new(S().FieldNumber)(400,0,5760),"width").appendField("x").appendField(new(S().FieldNumber)(600,0,2160),"height"),this.setNextStatement(!0,"Game_State"),this.setColour(75),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_game=function(e){var t=e.getFieldValue("name");return"let game = new Phaser.Game("+(Number(e.getFieldValue("width"))||"window.innerWidth")+", "+(Number(e.getFieldValue("height"))||"window.innerHeight")+", Phaser.AUTO, '"+t+"');\n"},w.Blocks.phaser_game_state={init:function(){this.appendDummyInput().appendField(Z.storage()).appendField(C.ZP.t("game state")).appendField(new(S().FieldTextInput)("main",T.validateText),"name").appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_PHASER_NO_AUTOSTART"),"false"],[C.ZP.t("BLOCKS_PHASER_AUTOSTART"),"true"]]),"autostart"),this.appendStatementInput("state").setCheck(["Preload_"]),this.setPreviousStatement(!0,"Game_State"),this.setNextStatement(!0,"Game_State"),this.setColour(75),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_game_state=function(e){var t=e.getFieldValue("name"),n=e.getFieldValue("autostart");return"game.state.add('"+t+"', {\n"+O.javascriptGenerator.statementToCode(e,"state")+"}, "+("true"==n)+");\n"},w.Blocks.phaser_game_start={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_GAME_START")).appendField(new(S().FieldTextInput)("main",T.validateText),"name"),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(75),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_game_start=function(e){return"game.state.start('"+e.getFieldValue("name")+"');\n"},w.Blocks.phaser_game_restart={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_GAME_RESTART")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(75),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_game_restart=function(){return"game.state.start(game.state.current);\n"};const x=[{kind:"block",blockxml:'\n  <block type="phaser_game">\n    <next>\n      <block type="phaser_game_state">\n        <field name="name">main</field>\n        <field name="autostart">true</field>\n        <statement name="state">\n          <block type="phaser_preload">\n            <next>\n              <block type="phaser_create">\n                <next>\n                  <block type="phaser_input">\n                      <next>\n                        <block type="phaser_update">\n                          <next>\n                            <block type="phaser_render" collapsed="true"></block>\n                          </next>\n                        </block>\n                      </next>\n                  </block>\n                </next>\n              </block>\n            </next>\n          </block>\n        </statement>\n      </block>\n    </next>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_game_state">\n    <field name="name">game_over</field>\n    <field name="autostart">false</field>\n    <statement name="state">\n      <block type="phaser_preload">\n        <next>\n          <block type="phaser_create">\n            <next>\n               <block type="phaser_input">\n                  <next>\n                    <block type="phaser_update">\n                      <next>\n                        <block type="phaser_render" collapsed="true"></block>\n                      </next>\n                    </block>\n                  </next>\n              </block>\n            </next>\n          </block>\n        </next>\n      </block>\n    </statement>\n  </block>'},{kind:"block",type:"phaser_game_start"},{kind:"block",blockxml:'\n  <block type="phaser_game_start">\n    <field name="name">game_over</field>\n  </block>'},{kind:"block",type:"phaser_game_restart"}];w.Blocks.phaser_generator_vertical_obstacle={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_GENERATOR_VERTICAL_OBSTACLE")).appendField(new(S().FieldDropdown)(T.phaserImage("obstacles")),"sprite"),this.appendValueInput("obstacles").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("number of obstacles")),this.appendValueInput("spaces").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("number of spaces")),this.appendValueInput("x").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("x"),this.appendValueInput("y").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("y"),this.appendValueInput("sprite_top").setCheck("String").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("top sprite")),this.appendValueInput("sprite_bottom").setCheck("String").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("bottom sprite")),this.appendValueInput("group").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("BLOCKS_GROUP")),this.appendStatementInput("CODE").setCheck("GeneratorArcadeAttribute"),this.setInputsInline(!1),this.setPreviousStatement(!0,["Create"]),this.setNextStatement(!0,["Create"]),this.setColour(105),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_generator_vertical_obstacle=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"obstacles",O.javascriptGenerator.ORDER_ATOMIC),a=O.javascriptGenerator.valueToCode(e,"spaces",O.javascriptGenerator.ORDER_ATOMIC),i=O.javascriptGenerator.valueToCode(e,"sprite_top",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"sprite_bottom",O.javascriptGenerator.ORDER_ATOMIC),o=O.javascriptGenerator.valueToCode(e,"group",O.javascriptGenerator.ORDER_ATOMIC),l=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC),s=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC),p=O.javascriptGenerator.statementToCode(e,"CODE");return"if (typeof "+o+" === 'undefined' || !"+o+") {\n  "+o+" = game.add.group(undefined, 'obstacle_group');\n}\ncwc.framework.Phaser.VerticalObstacleGenerator(\n  "+l+", "+s+", "+n+", "+a+", '"+t+"', "+i+", "+r+", "+o+", "+(p?"function(arcadeSpriteCustom) {\n"+p+"}":"")+");\n"},w.Blocks.phaser_generator_random_vertical_obstacle={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_GENERATOR_RANDOM_VERTICAL_OBSTACLE")).appendField(new(S().FieldDropdown)(T.phaserImage("block")),"sprite"),this.appendValueInput("obstacles").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("number of obstacles")),this.appendValueInput("x").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("x"),this.appendValueInput("y").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("y"),this.appendValueInput("sprite_optional").setCheck("String").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("optional sprite")),this.appendValueInput("group").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("BLOCKS_GROUP")),this.appendDummyInput().setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("direction")).appendField(new(S().FieldDropdown)([[C.ZP.t("start from top"),"top"],[C.ZP.t("start from bottom"),"bottom"]]),"direction"),this.appendStatementInput("CODE").setCheck("GeneratorArcadeAttribute"),this.setInputsInline(!1),this.setPreviousStatement(!0,["Create"]),this.setNextStatement(!0,["Create"]),this.setColour(105),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_generator_random_vertical_obstacle=function(e){var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"obstacles",O.javascriptGenerator.ORDER_ATOMIC),a=O.javascriptGenerator.valueToCode(e,"sprite_optional",O.javascriptGenerator.ORDER_ATOMIC),i=O.javascriptGenerator.valueToCode(e,"group",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC),o=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC),l=e.getFieldValue("direction"),s=O.javascriptGenerator.statementToCode(e,"CODE");return"if (typeof "+i+" === 'undefined' || !"+i+") {\n  "+i+" = game.add.group(undefined, 'obstacle_group');\n}\ncwc.framework.Phaser.RandomVerticalObstacleGenerator(\n  "+r+", "+o+", "+n+", '"+t+"', "+a+", "+i+", '"+l+"', "+(s?"function(arcadeSpriteCustom) {\n"+s+"}":"")+");\n"},w.Blocks.phaser_generator_matrix_block={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_PHASER_GENERATOR_OBSTACLE")).appendField(new(S().FieldDropdown)(T.phaserImage("block")),"sprite"),this.appendValueInput("x").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("x"),this.appendValueInput("y").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField("y"),this.appendValueInput("padding").setCheck("Number").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("BLOCKS_PADDING")),this.appendValueInput("group").setAlign(S().ALIGN_RIGHT).appendField(C.ZP.t("BLOCKS_GROUP")),this.appendDummyInput().appendField("  ").appendField(" 0").appendField("  1").appendField(" 2").appendField("  3").appendField(" 4").appendField("  5").appendField(" 6").appendField("  7"),this.appendDummyInput().appendField("0 ").appendField(new(S().FieldCheckbox)("TRUE"),"Block0").appendField(new(S().FieldCheckbox)("TRUE"),"Block1").appendField(new(S().FieldCheckbox)("TRUE"),"Block2").appendField(new(S().FieldCheckbox)("TRUE"),"Block3").appendField(new(S().FieldCheckbox)("TRUE"),"Block4").appendField(new(S().FieldCheckbox)("TRUE"),"Block5").appendField(new(S().FieldCheckbox)("FALSE"),"Block6").appendField(new(S().FieldCheckbox)("FALSE"),"Block7"),this.appendDummyInput().appendField("1 ").appendField(new(S().FieldCheckbox)("TRUE"),"Block8").appendField(new(S().FieldCheckbox)("TRUE"),"Block9").appendField(new(S().FieldCheckbox)("TRUE"),"Block10").appendField(new(S().FieldCheckbox)("TRUE"),"Block11").appendField(new(S().FieldCheckbox)("TRUE"),"Block12").appendField(new(S().FieldCheckbox)("TRUE"),"Block13").appendField(new(S().FieldCheckbox)("FALSE"),"Block14").appendField(new(S().FieldCheckbox)("FALSE"),"Block15"),this.appendDummyInput().appendField("2 ").appendField(new(S().FieldCheckbox)("TRUE"),"Block16").appendField(new(S().FieldCheckbox)("TRUE"),"Block17").appendField(new(S().FieldCheckbox)("TRUE"),"Block18").appendField(new(S().FieldCheckbox)("TRUE"),"Block19").appendField(new(S().FieldCheckbox)("TRUE"),"Block20").appendField(new(S().FieldCheckbox)("TRUE"),"Block21").appendField(new(S().FieldCheckbox)("FALSE"),"Block22").appendField(new(S().FieldCheckbox)("FALSE"),"Block23"),this.appendDummyInput().appendField("3 ").appendField(new(S().FieldCheckbox)("TRUE"),"Block24").appendField(new(S().FieldCheckbox)("TRUE"),"Block25").appendField(new(S().FieldCheckbox)("TRUE"),"Block26").appendField(new(S().FieldCheckbox)("TRUE"),"Block27").appendField(new(S().FieldCheckbox)("TRUE"),"Block28").appendField(new(S().FieldCheckbox)("TRUE"),"Block29").appendField(new(S().FieldCheckbox)("FALSE"),"Block30").appendField(new(S().FieldCheckbox)("FALSE"),"Block31"),this.appendDummyInput().appendField("4 ").appendField(new(S().FieldCheckbox)("FALSE"),"Block32").appendField(new(S().FieldCheckbox)("FALSE"),"Block33").appendField(new(S().FieldCheckbox)("FALSE"),"Block34").appendField(new(S().FieldCheckbox)("FALSE"),"Block35").appendField(new(S().FieldCheckbox)("FALSE"),"Block36").appendField(new(S().FieldCheckbox)("FALSE"),"Block37").appendField(new(S().FieldCheckbox)("FALSE"),"Block38").appendField(new(S().FieldCheckbox)("FALSE"),"Block39"),this.appendDummyInput().appendField("5 ").appendField(new(S().FieldCheckbox)("FALSE"),"Block40").appendField(new(S().FieldCheckbox)("FALSE"),"Block41").appendField(new(S().FieldCheckbox)("FALSE"),"Block42").appendField(new(S().FieldCheckbox)("FALSE"),"Block43").appendField(new(S().FieldCheckbox)("FALSE"),"Block44").appendField(new(S().FieldCheckbox)("FALSE"),"Block45").appendField(new(S().FieldCheckbox)("FALSE"),"Block46").appendField(new(S().FieldCheckbox)("FALSE"),"Block47"),this.appendDummyInput().appendField("6 ").appendField(new(S().FieldCheckbox)("FALSE"),"Block48").appendField(new(S().FieldCheckbox)("FALSE"),"Block49").appendField(new(S().FieldCheckbox)("FALSE"),"Block50").appendField(new(S().FieldCheckbox)("FALSE"),"Block51").appendField(new(S().FieldCheckbox)("FALSE"),"Block52").appendField(new(S().FieldCheckbox)("FALSE"),"Block53").appendField(new(S().FieldCheckbox)("FALSE"),"Block54").appendField(new(S().FieldCheckbox)("FALSE"),"Block55"),this.appendDummyInput().appendField("7 ").appendField(new(S().FieldCheckbox)("FALSE"),"Block56").appendField(new(S().FieldCheckbox)("FALSE"),"Block57").appendField(new(S().FieldCheckbox)("FALSE"),"Block58").appendField(new(S().FieldCheckbox)("FALSE"),"Block59").appendField(new(S().FieldCheckbox)("FALSE"),"Block60").appendField(new(S().FieldCheckbox)("FALSE"),"Block61").appendField(new(S().FieldCheckbox)("FALSE"),"Block62").appendField(new(S().FieldCheckbox)("FALSE"),"Block63"),this.appendStatementInput("CODE").setCheck("GeneratorArcadeAttribute"),this.setInputsInline(!1),this.setPreviousStatement(!0,["Create"]),this.setNextStatement(!0,["Create"]),this.setColour(105),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_generator_matrix_block=function(e){for(var t=e.getFieldValue("sprite"),n=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC),a=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC),i=O.javascriptGenerator.valueToCode(e,"padding",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"group",O.javascriptGenerator.ORDER_ATOMIC),o=O.javascriptGenerator.statementToCode(e,"CODE"),l=[],s=0;s<63;s++)l.push("TRUE"==e.getFieldValue("Block"+s)?1:0);return"if (typeof "+r+" === 'undefined' || !"+r+") {\n  "+r+" = game.add.group(undefined, 'block_group');\n}\ncwc.framework.Phaser.MatrixBlockGenerator(\n  '"+t+"', ["+l.toString()+"], "+n+", "+a+", "+i+", "+r+", "+(o?"function(arcadeSpriteCustom) {\n"+o+"}":"")+");\n"},w.Blocks.phaser_generator_physics_arcade_attributes={init:function(){this.appendDummyInput().appendField(C.ZP.t("BLOCKS_SET")).appendField(new(S().FieldDropdown)([[C.ZP.t("acceleration"),"acceleration.set"],[C.ZP.t("angle"),"angle"],[C.ZP.t("angular velocity"),"angularVelocity"],[C.ZP.t("bounce x"),"bounce.x"],[C.ZP.t("bounce y"),"bounce.y"],[C.ZP.t("bounce"),"bounce.set"],[C.ZP.t("allow gravity"),"allowGravity"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_DOWN"),"checkCollision.down"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_UP"),"checkCollision.up"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_LEFT"),"checkCollision.left"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_RIGHT"),"checkCollision.right"],[C.ZP.t("collide world bounds"),"collideWorldBounds"],[C.ZP.t("gravity x"),"gravity.x"],[C.ZP.t("gravity y"),"gravity.y"],[C.ZP.t("immovable"),"immovable"],[C.ZP.t("velocity x"),"velocity.x"],[C.ZP.t("velocity y"),"velocity.y"],[C.ZP.t("velocity"),"velocity"],[C.ZP.t("BLOCKS_WIDTH"),"width"],[C.ZP.t("BLOCKS_HEIGHT"),"height"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_TO")),this.setPreviousStatement(!0,["GeneratorArcadeAttribute"]),this.setNextStatement(!0,["GeneratorArcadeAttribute"]),this.setInputsInline(!0),this.setColour(105),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_generator_physics_arcade_attributes=function(e){return O.javascriptGenerator.phaser_physics_arcade_sprite_adjust(e,"arcadeSpriteCustom")};const A=[{kind:"block",blockxml:'\n  <block type="phaser_generator_vertical_obstacle">\n    <value name="obstacles">\n      <block type="math_number">\n        <field name="NUM">12</field>\n      </block>\n    </value>\n    <value name="spaces">\n      <block type="math_number">\n        <field name="NUM">5</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="phaser_world_attributes">\n        <field name="attribute">width</field>\n      </block>\n    </value>\n    <value name="y">\n      <block type="math_number">\n        <field name="NUM">0</field>\n      </block>\n    </value>\n    <value name="sprite">\n      <block type="text">\n        <field name="TEXT">obstacles</field>\n      </block>\n    </value>\n    <value name="sprite_top">\n      <block type="text"></block>\n    </value>\n    <value name="sprite_bottom">\n      <block type="text"></block>\n    </value>\n    <value name="group">\n      <block type="variables_get">\n        <field name="VAR">obstacle_group</field>\n      </block>\n    </value>\n    <field name="property">velocity.x</field>\n    <value name="value">\n      <block type="math_number">\n        <field name="NUM">-200</field>\n      </block>\n    </value>\n    <statement name="CODE">\n      <block type="phaser_generator_physics_arcade_attributes">\n        <field name="property">velocity.x</field>\n        <value name="value">\n          <block type="math_number">\n            <field name="NUM">-200</field>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_generator_random_vertical_obstacle">\n    <value name="obstacles">\n      <block type="math_number">\n        <field name="NUM">3</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="phaser_world_attributes">\n        <field name="attribute">width</field>\n      </block>\n    </value>\n    <value name="y">\n      <block type="phaser_world_attributes">\n        <field name="attribute">height</field>\n      </block>\n    </value>\n    <value name="sprite">\n      <block type="text">\n        <field name="TEXT">obstacles</field>\n      </block>\n    </value>\n    <value name="sprite_optional">\n      <block type="text">\n        <field name="TEXT"></field>\n      </block>\n    </value>\n    <field name="direction">bottom</field>\n    <value name="group">\n      <block type="variables_get">\n        <field name="VAR">obstacle_group</field>\n      </block>\n    </value>\n    <field name="property">velocity.x</field>\n    <value name="value">\n      <block type="math_number">\n        <field name="NUM">-200</field>\n      </block>\n    </value>\n    <statement name="CODE">\n      <block type="phaser_generator_physics_arcade_attributes">\n        <field name="property">velocity.x</field>\n        <value name="value">\n          <block type="math_number">\n            <field name="NUM">-200</field>\n          </block>\n        </value>\n      </block>\n    </statement>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_generator_matrix_block">\n    <value name="x">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="y">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="padding">\n      <block type="math_number">\n        <field name="NUM">10</field>\n      </block>\n    </value>\n    <value name="group">\n      <block type="variables_get">\n        <field name="VAR">block_group</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_generator_physics_arcade_attributes">\n    <value name="value">\n      <block type="math_number"></block>\n    </value>\n  </block>'}];w.Blocks.phaser_preload={init:function(){this.appendDummyInput().appendField(Z.fileDownload()).appendField(C.ZP.t("BLOCKS_PHASER_ON_PRELOAD")),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")).setAlign(S().ALIGN_CENTRE).setCheck(["Preload"]),this.setPreviousStatement(!0,"Preload_"),this.setNextStatement(!0,"Create_"),this.setColour(165),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_preload=function(e){return"preload: function(e) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"},\n"},w.Blocks.phaser_load_image={init:function(){this.appendDummyInput().appendField(Z.image()).appendField(C.ZP.t("BLOCKS_PHASER_LOAD_IMAGE")).appendField(new(S().FieldTextInput)("image",T.validate_text),"name"),this.appendValueInput("image").setCheck("Image"),this.setInputsInline(!0),this.setPreviousStatement(!0,"Preload"),this.setNextStatement(!0,"Preload"),this.setColour(165),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_load_image=function(e){return"game.load.image('"+e.getFieldValue("name")+"', '"+O.javascriptGenerator.valueToCode(e,"image",O.javascriptGenerator.ORDER_NONE)+"');\n"},w.Blocks.phaser_load_audio={init:function(){this.appendDummyInput().appendField(Z.audio()).appendField(C.ZP.t("BLOCKS_PHASER_LOAD_AUDIO")).appendField(new(S().FieldTextInput)("sound",T.validate_text),"name"),this.appendValueInput("audio").setCheck("Audio"),this.setInputsInline(!0),this.setPreviousStatement(!0,"Preload"),this.setNextStatement(!0,"Preload"),this.setColour(165),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_load_audio=function(e){return"game.load.audio('"+e.getFieldValue("name")+"', '"+O.javascriptGenerator.valueToCode(e,"audio",O.javascriptGenerator.ORDER_NONE).replace("file:","url:/library/")+"');\n"};const G=[{kind:"block",type:"phaser_preload"},{kind:"block",type:"phaser_load_image"},{kind:"block",type:"phaser_load_audio"}];w.Blocks.phaser_debug_camera={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("debug camera")),this.setPreviousStatement(!0,"Render"),this.setNextStatement(!0,"Render"),this.setColour(195),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_debug_camera=function(){return"game.debug.cameraInfo(game.camera, 32, 32);\n"},w.Blocks.phaser_debug_pointer={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("debug pointer")),this.setPreviousStatement(!0,"Render"),this.setNextStatement(!0,"Render"),this.setColour(195),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_debug_pointer=function(){return"game.debug.pointer(game.input.activePointer);\n"},w.Blocks.phaser_debug_sprite={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("debug sprite")),this.setPreviousStatement(!0,"Render"),this.setNextStatement(!0,"Render"),this.setColour(195),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_debug_sprite=function(e){return"game.debug.spriteInfo("+S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+", 32, 32);\n"},w.Blocks.phaser_render={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("on render")),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")).setAlign(S().ALIGN_CENTRE).setCheck(["Render"]),this.setPreviousStatement(!0,"Render_"),this.setNextStatement(!1),this.setColour(195),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_render=function(e){return"render: function(e) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"},\n"};const D=[{kind:"block",type:"phaser_render"},{kind:"block",type:"phaser_debug_camera"},{kind:"block",type:"phaser_debug_pointer"},{kind:"block",blockxml:'\n  <block type="phaser_debug_sprite">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sprite</field>\n      </block>\n    </value>\n  </block>\n    '}];w.Blocks.phaser_world_resize={init:function(){this.appendDummyInput().appendField(Z.adjust()).appendField(C.ZP.t("set world size")).appendField(new(S().FieldNumber)(400,0,1e4),"width").appendField("x").appendField(new(S().FieldNumber)(600,0,1e4),"height"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(345),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_world_resize=function(e){return"game.world.resize("+e.getFieldValue("width")+", "+e.getFieldValue("height")+");\n"},w.Blocks.phaser_world_wrap={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("World wrap sprite")),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_PADDING")),this.setInputsInline(!0),this.setPreviousStatement(!0,"Update"),this.setNextStatement(!0,"Update"),this.setColour(345),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_world_wrap=function(e){return"game.world.wrap("+O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+", "+(O.javascriptGenerator.valueToCode(e,"value",O.javascriptGenerator.ORDER_ATOMIC)||0)+");\n"},w.Blocks.phaser_world_attributes={init:function(){this.appendDummyInput().appendField(C.ZP.t("get world")).appendField(new(S().FieldDropdown)([[C.ZP.t("center x"),"centerX"],[C.ZP.t("center y"),"centerY"],[C.ZP.t("BLOCKS_WIDTH"),"width"],[C.ZP.t("BLOCKS_HEIGHT"),"height"]]),"attribute"),this.setOutput(!0,null),this.setColour(345),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_world_attributes=function(e){return["game.world."+e.getFieldValue("attribute"),O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_world_arcade_physics={init:function(){this.appendDummyInput().appendField(Z.adjust()).appendField(C.ZP.t("BLOCKS_SET")).appendField(C.ZP.t("BLOCKS_PHASER_WORLD_ARCADE_PHYSICS")).appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_DOWN"),"checkCollision.down"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_UP"),"checkCollision.up"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_LEFT"),"checkCollision.left"],[C.ZP.t("BLOCKS_PHASER_CHECK_COLLISION_RIGHT"),"checkCollision.right"],[C.ZP.t("gravity x"),"gravity.x"],[C.ZP.t("gravity y"),"gravity.y"],[C.ZP.t("pause"),"isPaused"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_TO")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setInputsInline(!0),this.setColour(345),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_world_arcade_physics=function(e){return"game.physics.arcade."+e.getFieldValue("property")+" = "+O.javascriptGenerator.valueToCode(e,"value",O.javascriptGenerator.ORDER_ATOMIC)+";\n"},w.Blocks.phaser_world_sort_direction={init:function(){this.appendDummyInput().appendField(Z.adjust()).appendField(C.ZP.t("BLOCKS_SET")).appendField(C.ZP.t("BLOCKS_PHASER_WORLD_SORT_DIRECTION")).appendField(new(S().FieldDropdown)([[C.ZP.t("none"),"0"],[C.ZP.t("left to right"),"1"],[C.ZP.t("right to left"),"2"],[C.ZP.t("top to bottom"),"3"],[C.ZP.t("bottom to top"),"4"]]),"property"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setInputsInline(!0),this.setColour(345),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_world_sort_direction=function(e){var t=e.getFieldValue("property");return"game.physics.arcade.sortDirection = "+Number(t)||0};const j=[{kind:"block",type:"phaser_world_resize"},{kind:"block",blockxml:'\n  <block type="phaser_world_arcade_physics">\n    <value name="value">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_world_sort_direction">\n    <field name="property">1</field>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_world_wrap">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sprite</field>\n      </block>\n    </value>\n    <value name="value">\n      <block type="math_number"></block>\n    </value>\n  </block>'},{kind:"block",type:"phaser_world_attributes"}];w.Blocks.phaser_audio_add_bgm={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_PHASER_AUDIO_ADD_BGM")).appendField(new(S().FieldTextInput)("bgm",T.validateText),"audio").appendField(Z.audio()).appendField(C.ZP.t("with volume")).appendField(new(S().FieldNumber)(100,0,200),"volume").appendField("%").appendField(new(S().FieldDropdown)([["no loop","false"],["loop","true"]]),"loop"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(255),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_add_bgm=function(e){var t=e.getFieldValue("audio"),n=e.getFieldValue("volume"),a=e.getFieldValue("loop"),i=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return"if (typeof "+i+" === 'undefined') {\n  "+i+" = game.add.audio('"+t+"', "+n/100+", "+a+");\n} else {\n  "+i+".stop();\n}\n"+i+".play();\n"},w.Blocks.phaser_audio_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as audio")).appendField(new(S().FieldTextInput)("audio",T.validateText),"audio").appendField(Z.audio()).appendField(C.ZP.t("with volume")).appendField(new(S().FieldNumber)(100,0,200),"volume").appendField("%").appendField(new(S().FieldDropdown)([["no loop","false"],["loop","true"]]),"loop"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(250),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_add=function(e){var t=e.getFieldValue("audio"),n=e.getFieldValue("volume"),a=e.getFieldValue("loop");return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+" = game.add.audio('"+t+"', "+n/100+", "+a+");\n"},w.Blocks.phaser_audio_play={init:function(){this.appendValueInput("variable").appendField(Z.audio()).appendField(C.ZP.t("play audio")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(245),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_play=function(e){return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".play();\n"},w.Blocks.phaser_audio_pause={init:function(){this.appendValueInput("variable").appendField(Z.audio()).appendField(C.ZP.t("BLOCKS_PHASER_AUDIO_PAUSE")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(245),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_pause=function(e){return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".pause();\n"},w.Blocks.phaser_audio_resume={init:function(){this.appendValueInput("variable").appendField(Z.audio()).appendField(C.ZP.t("resume audio")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(245),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_resume=function(e){return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".resume();\n"},w.Blocks.phaser_audio_stop={init:function(){this.appendValueInput("variable").appendField(Z.audio()).appendField(C.ZP.t("stop audio")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(245),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_audio_stop=function(e){return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".stop();\n"};var N=[{kind:"block",blockxml:'\n    <block type="phaser_audio_add_bgm">\n      <value name="variable">\n        <block type="variables_get">\n          <field name="VAR">bgm</field>\n        </block>\n      </value>\n    </block>\n'},{kind:"block",blockxml:'\n    <block type="phaser_audio_add">\n      <value name="variable">\n        <block type="variables_get">\n          <field name="VAR">sound</field>\n        </block>\n      </value>\n    </block>\n'}],B=[{kind:"block",blockxml:'\n  <block type="phaser_audio_play">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sound</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_audio_pause">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sound</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_audio_resume">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sound</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_audio_stop">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sound</field>\n      </block>\n    </value>\n  </block>'}];function L(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?N:[];return e=e.concat(B)}w.Blocks.phaser_input={init:function(){this.appendDummyInput().appendField(Z.keyboard()).appendField(Z.mouse()).appendField("on input"),this.appendStatementInput("CODE").appendField(C.ZP.t("BLOCKS_DO")).setAlign(S().ALIGN_CENTRE).setCheck(["Input"]),this.setPreviousStatement(!0,"Input_"),this.setNextStatement(!0,"Update_"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input=function(e){return"input_: function(e) {\n"+O.javascriptGenerator.statementToCode(e,"CODE")+"},\n"},w.Blocks.phaser_input_body={init:function(){this.appendStatementInput("CODE").setCheck(["controls_if"]).appendField(Z.keyboard()),this.setColour(135),this.setTooltip(""),this.setHelpUrl(""),this.setPreviousStatement(!0,"Input"),this.setNextStatement(!0,"Input")}},O.javascriptGenerator.phaser_input_body=function(e){return O.javascriptGenerator.statementToCode(e,"CODE")},w.Blocks.phaser_input_keyboard_cursor_keys_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_KEYBOARD_CURSOR_KEYS")).appendField(Z.keyboard()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_cursor_keys_add=function(e){var t=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = this.input.keyboard.createCursorKeys();\n"+t+".down.onDown.add(this.input_, this);\n"+t+".left.onDown.add(this.input_, this);\n"+t+".right.onDown.add(this.input_, this);\n"+t+".up.onDown.add(this.input_, this);\n"},w.Blocks.phaser_input_keyboard_wasd_keys_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_KEYBOARD_WASD_KEYS")).appendField(Z.keyboard()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_wasd_keys_add=function(e){return S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+" = {\n  up: this.input.keyboard.addKey(Phaser.Keyboard.W),\n  down: this.input.keyboard.addKey(Phaser.Keyboard.S),\n  left: this.input.keyboard.addKey(Phaser.Keyboard.A),\n  right: this.input.keyboard.addKey(Phaser.Keyboard.D),\n}\n"},w.Blocks.phaser_input_keyboard_spacebar_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_KEYBOARD_SPACEBAR")).appendField(Z.keyboard()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_spacebar_add=function(e){var t=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = this.input.keyboard.addKey(Phaser.KeyCode.SPACEBAR);\n"+t+".onDown.add(this.input_, this);\n"},w.Blocks.phaser_input_keyboard_shift_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_KEYBOARD_SHIFT_KEYS")).appendField(Z.keyboard()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_shift_add=function(e){var t=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = this.input.keyboard.addKey(Phaser.KeyCode.SHIFT);\n"+t+".onDown.add(this.input_, this);\n"},w.Blocks.phaser_input_keyboard_key_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_KEYBOARD_KEY")).appendField(new(S().FieldDropdown)([[C.ZP.t("shift key"),"Phaser.KeyCode.SHIFT"],[C.ZP.t("control key"),"Phaser.KeyCode.CONTROL"],[C.ZP.t("spacebar"),"Phaser.KeyCode.SPACEBAR"],["w","Phaser.KeyCode.W"],["a","Phaser.KeyCode.A"],["s","Phaser.KeyCode.S"],["d","Phaser.KeyCode.D"]]),"keycode").appendField(Z.keyboard()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_key_add=function(e){var t=e.getFieldValue("keycode"),n=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return n+" = this.input.keyboard.addKey("+t+");\n"+n+".onDown.add(this.input_, this);\n"},w.Blocks.phaser_input_mouse_keys_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_AS")).appendField(C.ZP.t("BLOCKS_PHASER_MOUSE_KEYS")).appendField(C.ZP.t("capture mouse keys")).appendField(Z.mouse()),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_mouse_keys_add=function(e){var t=S().JavaScript.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = this.input.mouse.input;\n"+t+".onDown.add(this.input_, this);\n"},w.Blocks.phaser_input_keyboard_cursor_is_pressed={init:function(){this.appendValueInput("cursors").appendField(Z.keyboard()),this.appendDummyInput().appendField(C.ZP.t("is pressed")).appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_UP"),".up"],[C.ZP.t("BLOCKS_DOWN"),".down"],[C.ZP.t("BLOCKS_LEFT"),".left"],[C.ZP.t("BLOCKS_RIGHT"),".right"],[C.ZP.t("key pressed"),""]]),"direction"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_cursor_is_pressed=function(e){var t=S().JavaScript.valueToCode(e,"cursors",O.javascriptGenerator.ORDER_ATOMIC),n=e.getFieldValue("direction");return[t+n+".isDown && e === "+t+n,O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_keyboard_cursor_is_hold_pressed={init:function(){this.appendValueInput("cursors").appendField(Z.keyboard()),this.appendDummyInput().appendField(C.ZP.t("is hold pressed")).appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_UP"),".up"],[C.ZP.t("BLOCKS_DOWN"),".down"],[C.ZP.t("BLOCKS_LEFT"),".left"],[C.ZP.t("BLOCKS_RIGHT"),".right"],[C.ZP.t("key pressed"),""]]),"direction"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_cursor_is_hold_pressed=function(e){var t=S().JavaScript.valueToCode(e,"cursors",O.javascriptGenerator.ORDER_ATOMIC),n=e.getFieldValue("direction");return[t+n+".isDown && e !== "+t+n,O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_keyboard_key_is_pressed={init:function(){this.appendValueInput("key").appendField(Z.keyboard()),this.appendDummyInput().appendField(C.ZP.t("is pressed")),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_key_is_pressed=function(e){var t=S().JavaScript.valueToCode(e,"key",O.javascriptGenerator.ORDER_ATOMIC);return[t+".isDown && e === "+t,O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_keyboard_key_is_hold_pressed={init:function(){this.appendValueInput("key").appendField(Z.keyboard()),this.appendDummyInput().appendField(C.ZP.t("is hold pressed")),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_key_is_hold_pressed=function(e){var t=S().JavaScript.valueToCode(e,"key",O.javascriptGenerator.ORDER_ATOMIC);return[t+".isDown && e !== "+t,O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_keyboard_code_is_pressed={init:function(){this.appendValueInput("key").appendField(Z.keyboard()),this.appendDummyInput().appendField(C.ZP.t("is pressed")).appendField(C.ZP.t("with")).appendField(new(S().FieldDropdown)([["ShiftLeft","ShiftLeft"],["ShiftRight","ShiftRight"]]),"code").appendField(C.ZP.t("code")),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_keyboard_code_is_pressed=function(e){var t=S().JavaScript.valueToCode(e,"key",O.javascriptGenerator.ORDER_ATOMIC);return[t+".isDown && e === "+t+' && e.event.code === "'+e.getFieldValue("code")+'"',O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_mouse_key_is_pressed={init:function(){this.appendValueInput("mouse").appendField(Z.mouse()),this.appendDummyInput().appendField(C.ZP.t("is pressed")).appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_LEFT"),"leftButton.isDown"],[C.ZP.t("BLOCKS_RIGHT"),"rightButton.isDown"],[C.ZP.t("BLOCKS_ALL"),"isDown"]]),"direction"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_mouse_key_is_pressed=function(e){var t=S().JavaScript.valueToCode(e,"mouse",O.javascriptGenerator.ORDER_ATOMIC);return[t+".activePointer."+e.getFieldValue("direction")+" && e === "+t+".activePointer",O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_input_mouse_key_is_hold_pressed={init:function(){this.appendValueInput("mouse").appendField(Z.mouse()),this.appendDummyInput().appendField(C.ZP.t("is hold pressed")).appendField(new(S().FieldDropdown)([[C.ZP.t("BLOCKS_LEFT"),"leftButton.isDown"],[C.ZP.t("BLOCKS_RIGHT"),"rightButton.isDown"],[C.ZP.t("BLOCKS_ALL"),"isDown"]]),"direction"),this.setInputsInline(!0),this.setOutput(!0,null),this.setColour(135),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_input_mouse_key_is_hold_pressed=function(e){var t=S().JavaScript.valueToCode(e,"mouse",O.javascriptGenerator.ORDER_ATOMIC);return[t+".activePointer."+e.getFieldValue("direction")+" && e !== "+t+".activePointer",O.javascriptGenerator.ORDER_NONE]};var V=[{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_cursor_keys_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">cursor_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_spacebar_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">spacebar</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_wasd_keys_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">wasd_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_shift_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">shift_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_key_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">keyboard_key</field>\n      </block>\n    </value>\n  </block>'}],H=[{kind:"block",blockxml:'\n  <block type="phaser_input_mouse_keys_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">mouse_keys</field>\n      </block>\n    </value>\n  </block>'}],U=[{kind:"block",type:"phaser_input"},{kind:"block",blockxml:'\n  <block type="phaser_input_body">\n    <statement name="CODE">\n      <block type="controls_if">\n        <mutation elseif="1" else="1"></mutation>\n        <value name="IF0">\n          <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n            <field name="direction">.left</field>\n            <value name="cursors">\n              <block type="variables_get">\n                <field name="VAR">cursor_keys</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO0">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">paddle</field>\n              </block>\n            </value>\n            <field name="property">velocity.x</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n        <value name="IF1">\n          <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n            <field name="direction">.right</field>\n            <value name="cursors">\n              <block type="variables_get">\n                <field name="VAR">cursor_keys</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO1">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">paddle</field>\n              </block>\n            </value>\n            <field name="property">velocity.x</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n        <statement name="ELSE">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">paddle</field>\n              </block>\n            </value>\n            <field name="property">velocity.x</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_body">\n    <statement name="CODE">\n      <block type="controls_if">\n        <value name="IF0">\n          <block type="phaser_input_keyboard_key_is_pressed">\n            <value name="key">\n              <block type="variables_get">\n                <field name="VAR">spacebar</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO0">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">player</field>\n              </block>\n            </value>\n            <field name="property">velocity.y</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_body">\n    <statement name="CODE">\n      <block type="controls_if">\n        <mutation elseif="1"></mutation>\n        <value name="IF0">\n          <block type="phaser_input_keyboard_code_is_pressed">\n            <field name="code">ShiftLeft</field>\n            <value name="key">\n              <block type="variables_get">\n                <field name="VAR">shift_keys</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO0">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">player</field>\n              </block>\n            </value>\n            <field name="property">velocity.y</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n        <value name="IF1">\n          <block type="phaser_input_keyboard_code_is_pressed">\n            <field name="code">ShiftRight</field>\n            <value name="key">\n              <block type="variables_get">\n                <field name="VAR">shift_keys</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <statement name="DO1">\n          <block type="phaser_physics_arcade_sprite_adjust">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">player2</field>\n              </block>\n            </value>\n            <field name="property">velocity.y</field>\n            <value name="value">\n              <block type="math_number">\n                <field name="NUM"></field>\n              </block>\n            </value>\n          </block>\n        </statement>\n      </block>\n    </statement>\n  </block>'}],M=[{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_cursor_is_pressed">\n    <field name="direction">up.isDown</field>\n    <value name="cursors">\n      <block type="variables_get">\n        <field name="VAR">cursor_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n    <field name="direction">up.isDown</field>\n    <value name="cursors">\n      <block type="variables_get">\n        <field name="VAR">cursor_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_key_is_pressed">\n    <value name="key">\n      <block type="variables_get">\n        <field name="VAR">spacebar</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_keyboard_key_is_hold_pressed">\n    <value name="key">\n      <block type="variables_get">\n        <field name="VAR">spacebar</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_mouse_key_is_pressed">\n    <field name="direction">leftButton.isDown</field>\n    <value name="mouse">\n      <block type="variables_get">\n        <field name="VAR">mouse_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_input_mouse_key_is_hold_pressed">\n    <field name="direction">leftButton.isDown</field>\n    <value name="mouse">\n      <block type="variables_get">\n        <field name="VAR">mouse_keys</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="controls_if">\n    <mutation elseif="0"></mutation>\n    <value name="IF0">\n      <block type="phaser_input_keyboard_key_is_pressed">\n        <value name="key">\n          <block type="variables_get">\n            <field name="VAR">spacebar</field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="controls_if">\n    <mutation elseif="3"></mutation>\n    <value name="IF0">\n      <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n        <field name="direction">.up</field>\n        <value name="cursors">\n          <block type="variables_get">\n            <field name="VAR">cursor_keys</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name="IF1">\n      <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n        <field name="direction">.down</field>\n        <value name="cursors">\n          <block type="variables_get">\n            <field name="VAR">cursor_keys</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name="IF2">\n      <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n        <field name="direction">.left</field>\n        <value name="cursors">\n          <block type="variables_get">\n            <field name="VAR">cursor_keys</field>\n          </block>\n        </value>\n      </block>\n    </value>\n    <value name="IF3">\n      <block type="phaser_input_keyboard_cursor_is_hold_pressed">\n        <field name="direction">.right</field>\n        <value name="cursors">\n          <block type="variables_get">\n            <field name="VAR">cursor_keys</field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="controls_if">\n    <mutation elseif="0"></mutation>\n    <value name="IF0">\n      <block type="phaser_input_mouse_key_is_pressed">\n        <field name="direction">leftButton.isDown</field>\n        <value name="mouse">\n          <block type="variables_get">\n            <field name="VAR">mouse_keys</field>\n          </block>\n        </value>\n      </block>\n    </value>\n  </block>'}];function K(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[];return e&&(n=(n=n.concat(V)).concat(H)),e||t||(n=n.concat(U)),e||(n=n.concat(M)),n}w.Blocks.phaser_text_add={init:function(){this.appendValueInput("text").appendField(Z.addCircle()).appendField(C.ZP.t("add text")).setCheck("String"),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("on")),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y").appendField(C.ZP.t("with style")).appendField(new(S().FieldColour)("#AAAAAA"),"color").appendField(new(S().FieldTextInput)("16px",T.validateText),"size").appendField(new(S().FieldDropdown)([["Arial Black","Arial Black"],["Arial Narrow","Arial Narrow"],["Arial","Arial"],["Comic Sans MS","Comic Sans MS"],["Courier New","Courier New"],["Georgia","Georgia"],["Helvetica","Helvetica"],["Impact","Impact"],["Lucida Console","Lucida Console"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"],["Webdings","Webdings"],["Wingdings","Wingdings"],["sans-serif","sans-serif"]]),"font"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_text_add=function(e){var t=e.getFieldValue("color"),n=e.getFieldValue("font"),a=e.getFieldValue("size"),i=O.javascriptGenerator.valueToCode(e,"text",O.javascriptGenerator.ORDER_ATOMIC)||"",r=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0,o=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0;return/^\d+$/.test(a)&&(a+="px"),"game.add.text("+r+", "+o+", "+i+", { font: '"+a+" "+n+"', fill: '"+t+"'});\n"},w.Blocks.phaser_dynamic_text_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as dynamic text")),this.appendValueInput("text").setCheck("String"),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("on")),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y").appendField(C.ZP.t("with style")).appendField(new(S().FieldColour)("#AAAAAA"),"color").appendField(new(S().FieldTextInput)("16px",T.validateText),"size").appendField(new(S().FieldDropdown)([["Arial Black","Arial Black"],["Arial Narrow","Arial Narrow"],["Arial","Arial"],["Comic Sans MS","Comic Sans MS"],["Courier New","Courier New"],["Georgia","Georgia"],["Helvetica","Helvetica"],["Impact","Impact"],["Lucida Console","Lucida Console"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"],["Webdings","Webdings"],["Wingdings","Wingdings"],["sans-serif","sans-serif"]]),"font"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_dynamic_text_add=function(e){var t=e.getFieldValue("color"),n=e.getFieldValue("font"),a=e.getFieldValue("size"),i=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"text",O.javascriptGenerator.ORDER_ATOMIC)||"",o=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0,l=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0;return/^\d+$/.test(a)&&(a+="px"),i+" = game.add.text("+o+", "+l+", "+r+", { font: '"+a+" "+n+"', fill: '"+t+"'});\n"},w.Blocks.phaser_dynamic_text_highscore_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("BLOCKS_PHASER_DYNAMIC_TEXT_ADD_HIGHSCORE")),this.appendValueInput("score").setCheck("Number"),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("on")),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y").appendField(C.ZP.t("with style")).appendField(new(S().FieldColour)("#AAAAAA"),"color").appendField(new(S().FieldTextInput)("16px",T.validateText),"size").appendField(new(S().FieldDropdown)([["Arial Black","Arial Black"],["Arial Narrow","Arial Narrow"],["Arial","Arial"],["Comic Sans MS","Comic Sans MS"],["Courier New","Courier New"],["Georgia","Georgia"],["Helvetica","Helvetica"],["Impact","Impact"],["Lucida Console","Lucida Console"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"],["Webdings","Webdings"],["Wingdings","Wingdings"],["sans-serif","sans-serif"]]),"font"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_dynamic_text_highscore_add=function(e){var t=e.getFieldValue("color"),n=e.getFieldValue("font"),a=e.getFieldValue("size"),i=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"score",O.javascriptGenerator.ORDER_ATOMIC)||0,o=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0,l=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0;return/^\d+$/.test(a)&&(a+="px"),i+" = game.add.text("+o+", "+l+", "+String(r)+", { font: '"+a+" "+n+"', fill: '"+t+"'});\n"},w.Blocks.phaser_action_text_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as action text")),this.appendValueInput("text").setCheck("String"),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("on")),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y").appendField(C.ZP.t("with style")).appendField(new(S().FieldColour)("#AAAAAA"),"color").appendField(new(S().FieldTextInput)("16px",T.validateText),"size").appendField(new(S().FieldDropdown)([["Arial Black","Arial Black"],["Arial Narrow","Arial Narrow"],["Arial","Arial"],["Comic Sans MS","Comic Sans MS"],["Courier New","Courier New"],["Georgia","Georgia"],["Helvetica","Helvetica"],["Impact","Impact"],["Lucida Console","Lucida Console"],["Tahoma","Tahoma"],["Times New Roman","Times New Roman"],["Verdana","Verdana"],["Webdings","Webdings"],["Wingdings","Wingdings"],["sans-serif","sans-serif"]]),"font"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(260),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_action_text_add=function(e){var t=e.getFieldValue("color"),n=e.getFieldValue("font"),a=e.getFieldValue("size"),i=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),r=O.javascriptGenerator.valueToCode(e,"text",O.javascriptGenerator.ORDER_ATOMIC)||"",o=O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0,l=O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0;return/^\d+$/.test(a)&&(a+="px"),i+" = game.add.text("+o+", "+l+", "+r+", { font: '"+a+" "+n+"', fill: '"+t+"'});\n"+i+".inputEnabled = true;\n"+i+".input.useHandCursor = true;\n"},w.Blocks.phaser_text_change={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("BLOCKS_CHANGE")),this.appendValueInput("text").appendField(C.ZP.t("text to")),this.setInputsInline(!0),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(255),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_text_change=function(e){var t=O.javascriptGenerator.valueToCode(e,"text",O.javascriptGenerator.ORDER_ATOMIC);return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".text = "+t+";\n"},w.Blocks.phaser_text_get={init:function(){this.appendValueInput("variable").appendField(C.ZP.t("BLOCKS_GET_TEXT")),this.setOutput(!0,null),this.setColour(255),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_text_get=function(e){return[O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".text",O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_text_get_number={init:function(){this.appendValueInput("variable").appendField(C.ZP.t("BLOCKS_GET_NUMBER")),this.setOutput(!0,null),this.setColour(255),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_text_get_number=function(e){return["Number("+O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".text)",O.javascriptGenerator.ORDER_NONE]},w.Blocks.phaser_text_clicked={init:function(){this.appendValueInput("variable").appendField(Z.runningMan()).appendField(C.ZP.t("on click on action text")),this.appendStatementInput("func").appendField(C.ZP.t("BLOCKS_DO")),this.setInputsInline(!0),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(255),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_text_clicked=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".events.onInputDown.add(function() {\n"+O.javascriptGenerator.statementToCode(e,"func")+"}, this);\n"};var W=[{kind:"block",blockxml:'\n  <block type="phaser_text_add">\n    <value name="text">\n      <block type="text">\n        <field name="TEXT">Title</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">100</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_text_add">\n    <value name="text">\n      <block type="text">\n        <field name="TEXT">Hello World</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_dynamic_text_highscore_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">highscore</field>\n      </block>\n    </value>\n    <value name="score">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_dynamic_text_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n    <value name="text">\n      <block type="text">\n        <field name="TEXT">Text</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_action_text_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">start_text</field>\n      </block>\n    </value>\n    <value name="text">\n      <block type="text">\n        <field name="TEXT">Start the Game!</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">10</field></block>\n    </value>\n  </block>'}],z=[{kind:"block",blockxml:'\n  <block type="phaser_text_change">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n    <value name="text">\n      <block type="text">\n        <field name="TEXT">Hello World</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_text_change">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">highscore</field>\n      </block>\n    </value>\n    <value name="text">\n      <block type="math_arithmetic">\n        <field name="OP">ADD</field>\n        <value name="A">\n          <block type="phaser_text_get_number">\n            <value name="variable">\n              <block type="variables_get">\n                <field name="VAR">highscore</field>\n              </block>\n            </value>\n          </block>\n        </value>\n        <value name="B">\n          <shadow type="math_number">\n            <field name="NUM">1</field>\n          </shadow>\n        </value>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_text_get">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">text</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_text_get_number">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">highscore</field>\n      </block>\n    </value>\n  </block>'}],Y=[{kind:"block",blockxml:'\n  <block type="phaser_text_clicked">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">start_text</field>\n      </block>\n    </value>\n  </block>'}];function X(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0]?W:[];return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(e=e.concat(Y)),e=e.concat(z)}w.Blocks.phaser_tile_sprite_background={init:function(){this.appendDummyInput().appendField(Z.addCircle()).appendField(C.ZP.t("add background image")).appendField(new(S().FieldDropdown)(T.phaserImage("bg_01")),"sprite").appendField(Z.image()),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("with")).appendField(C.ZP.t("autoscroll to")),this.appendValueInput("y").setCheck("Number").appendField(C.ZP.t("x")),this.appendDummyInput().appendField(C.ZP.t("y")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_background=function(e){return"game.add.tileSprite(0, 0, game.world.width, game.world.height,'"+e.getFieldValue("sprite")+"').autoScroll("+O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)+");\n"},w.Blocks.phaser_tile_sprite_floor_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as floor")).appendField(new(S().FieldDropdown)(T.phaserImage("floor")),"sprite").appendField(Z.image()),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("with")).appendField(C.ZP.t("autoscroll to")),this.appendValueInput("y").setCheck("Number").appendField(C.ZP.t("x")),this.appendDummyInput().appendField(C.ZP.t("y")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_floor_add=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = game.add.tileSprite(0, (game.world.height - 50), game.world.width, 50, '"+e.getFieldValue("sprite")+"');\n"+t+".autoScroll("+O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)+");\ngame.physics.arcade.enable("+t+");\n"+t+".body.immovable = true;\n"},w.Blocks.phaser_tile_sprite_ceiling_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as ceiling")).appendField(new(S().FieldDropdown)(T.phaserImage("ceiling")),"sprite").appendField(Z.image()),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("with")).appendField(C.ZP.t("autoscroll to")),this.appendValueInput("y").setCheck("Number").appendField(C.ZP.t("x")),this.appendDummyInput().appendField(C.ZP.t("y")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_ceiling_add=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return t+" = game.add.tileSprite(0, 0, game.world.width, 50, '"+e.getFieldValue("sprite")+"');\n"+t+".autoScroll("+O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)+");\ngame.physics.arcade.enable("+t+");\n"+t+".body.immovable = true;\n"},w.Blocks.phaser_tile_sprite_add={init:function(){this.appendValueInput("variable").appendField(Z.addCircle()).appendField(C.ZP.t("BLOCKS_DEFINE")),this.appendDummyInput().appendField(C.ZP.t("as tile sprite")).appendField(new(S().FieldDropdown)(T.phaserImage("tile_sprite")),"sprite").appendField(Z.image()).appendField(C.ZP.t("on position")),this.appendValueInput("x").setCheck("Number"),this.appendValueInput("y").appendField("x").setCheck("Number"),this.appendDummyInput().appendField("y").appendField(C.ZP.t("with size")).appendField(new(S().FieldNumber)(400),"width").appendField("x").appendField(new(S().FieldNumber)(50),"height").appendField(C.ZP.t("and group")).appendField(new(S().FieldTextInput)("",T.validateText),"group"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(290),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_add=function(e){var t=e.getFieldValue("width"),n=e.getFieldValue("height"),a=e.getFieldValue("sprite");return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+" = game.add.tileSprite("+(O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+(O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)||0)+", "+t+", "+n+", '"+a+"');\n"},w.Blocks.phaser_tile_sprite_adjust={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("set title sprite")),this.appendDummyInput().appendField(new(S().FieldDropdown)([[C.ZP.t("alpha transparent"),"alpha"],[C.ZP.t("angle"),"angle"],[C.ZP.t("anchor"),"anchor.set"],[C.ZP.t("buttonMode"),"buttonMode"],[C.ZP.t("frame"),"frame"],[C.ZP.t("BLOCKS_HEIGHT"),"height"],[C.ZP.t("rotation"),"rotation"],[C.ZP.t("visible"),"visible"],[C.ZP.t("BLOCKS_WIDTH"),"width"],[C.ZP.t("tile position x"),"tilePosition.y"],[C.ZP.t("tile position y"),"tilePosition.y"],[C.ZP.t("x"),"x"],[C.ZP.t("y"),"y"],[C.ZP.t("z"),"y"]]),"property"),this.appendValueInput("value").setCheck("Number").appendField(C.ZP.t("BLOCKS_TO")),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_adjust=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),n=e.getFieldValue("property"),a=O.javascriptGenerator.valueToCode(e,"value",O.javascriptGenerator.ORDER_ATOMIC);switch(n){case"anchor.set":return t+"."+n+"("+a+");\n";case"visible":return t+"."+n+" = "+!!a+";\n";default:return t+"."+n+" = "+a+";\n"}},w.Blocks.phaser_tile_sprite_crop={init:function(){this.appendValueInput("variable").appendField(Z.adjust()).appendField(C.ZP.t("crop sprite with")),this.appendDummyInput().appendField(C.ZP.t("top")).setAlign(S().ALIGN_RIGHT).appendField(new(S().FieldNumber)(0,0),"top"),this.appendDummyInput().appendField(C.ZP.t("right")).setAlign(S().ALIGN_RIGHT).appendField(new(S().FieldNumber)(0,0),"right"),this.appendDummyInput().appendField(C.ZP.t("bottom")).setAlign(S().ALIGN_RIGHT).appendField(new(S().FieldNumber)(0,0),"bottom"),this.appendDummyInput().appendField(C.ZP.t("left")).setAlign(S().ALIGN_RIGHT).appendField(new(S().FieldNumber)(0,0),"left"),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_crop=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC),n=e.getFieldValue("top"),a=e.getFieldValue("right"),i=e.getFieldValue("bottom"),r=e.getFieldValue("left");return t+".tilePosition.y = -"+n+";\n"+t+".width -= "+(Number(a)+Number(r))+";\n"+t+".height -= "+(Number(i)+Number(n))+";\n"+t+".tilePosition.x = -"+r+";\n"},w.Blocks.phaser_tile_sprite_destroy={init:function(){this.appendDummyInput().appendField(Z.point()).appendField(C.ZP.t("BLOCKS_DESTROY")).appendField(C.ZP.t("tile sprite")),this.appendValueInput("variable"),this.setInputsInline(!0),this.setPreviousStatement(!0,["Create","Update","Input"]),this.setNextStatement(!0,["Create","Update","Input"]),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_destroy=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".destroy();\n"},w.Blocks.phaser_tile_sprite_autoScroll={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("set tile sprite")),this.appendValueInput("x").setCheck("Number").appendField(C.ZP.t("autoscroll to")),this.appendValueInput("y").setCheck("Number").appendField(C.ZP.t("x")),this.appendDummyInput().appendField(C.ZP.t("y")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_autoScroll=function(e){return O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC)+".autoScroll("+O.javascriptGenerator.valueToCode(e,"x",O.javascriptGenerator.ORDER_ATOMIC)+", "+O.javascriptGenerator.valueToCode(e,"y",O.javascriptGenerator.ORDER_ATOMIC)+");\n"},w.Blocks.phaser_tile_sprite_immovable={init:function(){this.appendValueInput("variable").appendField(Z.point()).appendField(C.ZP.t("set tile sprite")),this.appendDummyInput().appendField(C.ZP.t("as immovable by other objects")),this.setPreviousStatement(!0,"Create"),this.setNextStatement(!0,"Create"),this.setColour(285),this.setTooltip(""),this.setHelpUrl("")}},O.javascriptGenerator.phaser_tile_sprite_immovable=function(e){var t=O.javascriptGenerator.valueToCode(e,"variable",O.javascriptGenerator.ORDER_ATOMIC);return"game.physics.arcade.enable("+t+");\n"+t+".body.immovable = true;\n"};var J=[{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_background">\n    <value name="x">\n      <block type="math_number"><field name="NUM">-50</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_floor_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">floor</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">-50</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_ceiling_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">ceiling</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">-50</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_add">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">tile_sprite</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">550</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_crop">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">blocks</field>\n      </block>\n    </value>\n  </block>'}],q=[{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_adjust">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sprite</field>\n      </block>\n    </value>\n    <value name="value">\n      <block type="math_number"></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_destroy">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">sprite</field>\n      </block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_autoScroll">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">blocks</field>\n      </block>\n    </value>\n    <value name="x">\n      <block type="math_number"><field name="NUM">-50</field></block>\n    </value>\n    <value name="y">\n      <block type="math_number"><field name="NUM">0</field></block>\n    </value>\n  </block>'},{kind:"block",blockxml:'\n  <block type="phaser_tile_sprite_immovable">\n    <value name="variable">\n      <block type="variables_get">\n        <field name="VAR">blocks</field>\n      </block>\n    </value>\n  </block>'}];function Q(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?J:[];return e=e.concat(q)}var $=function(){function e(){(0,a.Z)(this,e)}return(0,i.Z)(e,null,[{key:"getToolbox",value:function(){return{kind:"categoryToolbox",contents:[{kind:"category",name:C.ZP.t("BLOCKS_PHASER_GAME"),colour:"75",cssConfig:{container:"icon_direction_run"},contents:x},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_PRELOAD"),colour:"165",cssConfig:{container:"icon_file_download"},contents:G},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_CREATE"),colour:"30",contents:[{kind:"category",name:C.ZP.t("BLOCKS_PHASER_TEXT"),colour:"255",contents:X()},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_GENERATOR"),colour:"105",contents:A},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_WORLD"),colour:"345",contents:j}]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_INPUT"),colour:"165",contents:K().concat([{kind:"category",name:C.ZP.t("BLOCKS_PHASER_AUDIO"),colour:"245",contents:L()},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_SPRITE"),colour:"225",contents:[]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_TILE_SPRITE"),colour:"285",contents:Q()},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_PHYSICS_SPRITE"),colour:"0",contents:[]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_TEXT"),colour:"255",contents:[]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_INPUTS"),colour:"255",contents:[]}])},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_UPDATE"),colour:"165",contents:[]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_RENDERER"),colour:"165",contents:D},{kind:"separator"},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_FILES"),colour:"150",contents:[]},{kind:"category",name:C.ZP.t("BLOCKS_PHASER_EXAMPLE_FILES"),colour:"150",contents:[]},{kind:"sep"},{kind:"sep"}]}}}]),e}();function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,a=(0,l.Z)(e);if(t){var i=(0,l.Z)(this).constructor;n=Reflect.construct(a,arguments,i)}else n=a.apply(this,arguments);return(0,o.Z)(this,n)}}var te=function(e){(0,r.Z)(n,e);var t=ee(n);function n(e){var i;return(0,a.Z)(this,n),(i=t.call(this,e)).state={projectName:F.generate(C.ZP.resolvedLanguage),projectId:(0,y.Z)(),projectDescription:"",showGameSetup:!0,xml:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'},i.blockyWorkspace=null,i}return(0,i.Z)(n,[{key:"handleGameSetupClose",value:function(e){this.setState({xml:E.render(this.state.projectName)}),this.setState({showGameSetup:!1})}},{key:"handleRandomProjectName",value:function(e){this.setState({projectName:F.generate(C.ZP.resolvedLanguage)})}},{key:"handleProjectNameChange",value:function(e){var t=e.target.value;0===t.trim().length&&t!=this.state.projectName&&this.setState({projectName:t})}},{key:"render",value:function(){return b.createElement(b.StrictMode,null,b.createElement(d.Z,{onClose:this.handleGameSetupClose.bind(this),open:this.state.showGameSetup,disablePortal:!0},b.createElement(m.Z,null,"New Game Project",b.createElement(f.Z,{variant:"caption",display:"block"},"ID: ",this.state.projectId)),b.createElement(u.Z,null,b.createElement(h.Z,null,"Here you can setup your new game project."),b.createElement(k.Z,{required:!0,autoFocus:!0,fullWidth:!0,margin:"dense",id:"project_name",label:"Project Name",variant:"standard",value:this.state.projectName,onChange:this.handleProjectNameChange.bind(this),InputProps:{endAdornment:b.createElement(s.Z,{onClick:this.handleRandomProjectName.bind(this)},b.createElement(p.Z,null))}}),b.createElement(k.Z,{maxRows:2,multiline:!0,fullWidth:!0,id:"outlined-multiline-flexible",label:"Project Description",margin:"dense",variant:"standard"})),b.createElement(c.Z,null,b.createElement(s.Z,{onClick:this.handleGameSetupClose.bind(this)},"Create Project"))),!this.state.showGameSetup&&b.createElement(P.BlockEditor,{content:this.state.xml,toolbox:$.getToolbox(),template:I.render,projectId:this.state.projectId,windowId:this.props.windowId}))}}]),n}(b.PureComponent);te.propTypes={windowId:_().string}},5817:(e,t,n)=>{n.d(t,{m:()=>c});var a=n(5861),i=n(5671),r=n(3144),o=n(4942),l=n(4687),s=n.n(l),p=n(8993),d=n(464),c=function(){function e(){(0,i.Z)(this,e),this.events=new p.b("Service Worker: Preview","",this),this.registered=!1,this.register(),this.basePath=location.host.endsWith(".github.io")?location.pathname:"/",this.allowList=location.host.endsWith(".github.io")?/^(http|https):\/\/([^/]+)\/([^/]+)\/preview\/[^/]+\/?/:/^(http|https):\/\/([^/]+)\/preview\/[^/]+\/?/,this.counter=0}var t,n;return(0,r.Z)(e,[{key:"register",value:function(){this.registered||(console.log("Register Preview Service Worker with cache ".concat(e.cacheName," ...")),this.events.listen(self,d.t.ACTIVATE,this.activate),this.events.listen(self,d.t.INSTALL,this.install),this.events.listen(self,d.t.FETCH,this.fetch),this.registered=!0)}},{key:"activate",value:function(e){console.log("Activate request",e)}},{key:"install",value:function(){console.log("Install Preview Service Worker ...")}},{key:"fetch",value:function(t){if(null!=t.request&&this.allowList.test(t.request.url))if(console.log("Preview fetch request",t),"POST"===t.request.method)t.respondWith(caches.open(e.cacheName).then((function(e){return t.request.text().then((function(n){var a=new Response(n);return e.put(t.request,a.clone()),a}))})));else if("GET"===t.request.method){if(t.request.url.endsWith(this.basePath+"preview/test123"))return void t.respondWith(new Response("Hello World! "+this.counter++));t.respondWith(caches.match(t.request).then((function(e){return e||new Response("Not found")})))}}}],[{key:"saveHTMLFile",value:(n=(0,a.Z)(s().mark((function t(n,a){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.saveFile(n,a,"text/html; charset=utf-8"));case 1:case"end":return t.stop()}}),t)}))),function(e,t){return n.apply(this,arguments)})},{key:"saveFile",value:(t=(0,a.Z)(s().mark((function t(n,a){var i,r,o,l,p=arguments;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=p.length>2&&void 0!==p[2]?p[2]:"text/plain; charset=utf-8",t.next=3,caches.open(e.cacheName);case 3:return r=t.sent,o=n,l=new Response(a,{headers:{"Content-Type":i}}),console.log("Save preview file",o,l),t.next=9,r.put(o,l);case 9:case"end":return t.stop()}}),t)}))),function(e,n){return t.apply(this,arguments)})}]),e}();(0,o.Z)(c,"cacheName","PreviewV1"),new c},8993:(e,t,n)=>{n.d(t,{b:()=>o});var a=n(5671),i=n(3144),r=(0,i.Z)((function e(t,n,i,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if((0,a.Z)(this,e),this.target=void 0,this.type=n,this.listener=i,this.options=r,"string"==typeof t||t instanceof String){if(this.target=document.getElementById(o+t),!this.target)throw new Error("Unable to find element ".concat(o).concat(t,"!"))}else this.target=t;if(!this.target)throw new Error("Undefined event target: ".concat(this.target,"!"));if("function"!=typeof i)throw new Error("Listener is not a function: ".concat(i,"!"))})),o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Events",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;(0,a.Z)(this,e),this.name=t||"",this.prefix=n||"",this.scope=i,this.listener_=[]}return(0,i.Z)(e,[{key:"listen",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5],l=new r(e,t,this.scope?n.bind(this.scope):n,{capture:a,once:i,passive:o},this.prefix);return l.target.addEventListener(l.type,l.listener,l.options),this.listener_.push(l)-1}},{key:"listenOnce",value:function(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this.listen(e,t,n,a,i,r)}},{key:"unlisten",value:function(e){var t=this.listener_[e];if(!t)throw new Error("Unknown listener key: ".concat(e,"!"));var n=t.target,a=t.type,i=t.listener,r=t.options;n.removeEventListener(a,i,r),delete this.listener_[e]}},{key:"getLength",value:function(){return this.listener_.length-1}}]),e}()},464:(e,t,n)=>{n.d(t,{t:()=>a});var a={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",ERROR:"error",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch"}}}]);