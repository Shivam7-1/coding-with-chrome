/*! For license information please see 295.js.LICENSE.txt */
"use strict";(self.webpackChunkcoding_with_chrome=self.webpackChunkcoding_with_chrome||[]).push([[295],{4295:(e,t,i)=>{i.r(t),i.d(t,{BlockEditor:()=>N});var o=i(7294),s=i(4948),n=i.n(s),a=i(1508),r=i(6214),l=i(2318),c=i(6451),d=i(8885),h=i(9334),p=i(326),A=i(3797),g=i(3269),m=i(5697),f=i.n(m),u=i(4993),b=i(7233),k=i(6818),w=i(2658),E=i(5378),y=i(8721),O=i(8413),S=i(5603);const P="blockly";class D{static FILE_HEADER="Coding with Chrome File Format";static FILE_VERSION=4;constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.name="Coding with Chrome File",this.format=`${D.FILE_HEADER} ${D.FILE_VERSION}`,this.content=new Map,this.files=new Map,e&&(e instanceof ArrayBuffer&&(e=new TextDecoder("utf-8").decode(e)),this.load(e))}load(e){if(!e)return;let t=e;if("object"!=typeof e)try{t=JSON.parse(e)}catch(t){throw new Error("Was not able to parse JSON: "+t.message+"\ndata:"+e)}if(!t||!D.hasFileHeader(t.format))throw new Error("File format: "+t.format+" is not support!");const i=D.getFileHeaderVersion(t.format);if(console.info("Loading JSON data with",Object.keys(t).length,"entries and file format version",i),this.clear(),t.content)for(const e in t.content)Object.prototype.hasOwnProperty.call(t.content,e)&&this.content.set(e,t.content[e]);if(t.files)for(const e in t.files)Object.prototype.hasOwnProperty.call(t.files,e)&&this.files.set(e,t.files[e])}clear(){this.name="Coding with Chrome File",this.content=new Map,this.files=new Map}getContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=this.content.get(e);return t&&t.content?t.content:t}setContent(e,t){this.content.set(e,t)}hasContent(e){return this.content.has(e)}getFiles(){return this.files}setFiles(e){this.files=e}hasFiles(){return this.files&&this.files.size>0}getFile(e){return this.files.get(e)}setFile(e,t){this.files.set(e,t)}hasFile(e){return this.files.has(e)}static hasFileHeader(e){return!(!e||!e.includes(D.FILE_HEADER))}static getFileHeaderVersion(e){let t=0;if(D.hasFileHeader(e)&&(t=Number(e.replace(D.FILE_HEADER+" ",""))||0),!t||t<1)throw new Error("Unknown file format version: "+t);return t<D.FILE_VERSION?console.warn("Loading legacy file format version",t):t>D.FILE_VERSION&&console.error("File format version",t,"is not supported by the current version. Please update ..."),t}}const B=D;var C=i(7289);const j={general_sample_image_ball_red:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAASFBMVEUAAAD/QEDu7u7RDw/5OTniISHXFhbyMTHnJyf9WlrrKyvNDAzJCQn7amr+Tk7+Rkbyx8fcHBz8Y2P8YGDw3t7xzs73kpL5fHxpXOCFAAAAAXRSTlMAQObYZgAAAQ9JREFUSMe9lksOgzAMROM4ISQF+m/vf9MiI+qqJcGz6dsAEqPxxAjbbcKOZ+aLDe5iCiSEFNkg6OV1JeyoONEG5VAVHHqqECuijuqEreqGSE3Ov5JEO/TfHqKAND0ZOFuT05SveZI7VgVTneN4996frnJuetaloXj4haf0x2Iy+pXLZ2mpkePmV05HIir7JtkrWW1Ksy5lfKdhQlyC9sSWZabTxltObK0skGDoi5A0iqX7axjaY8qXPOmjpMdgXNIBkr8Wxo4JI0grIZJ8MBDRofnls2Q0ykwB60JtWH+uRopbYMxEKEASzEZ/sPbeMD4sgCEGjjFVDPB4xYc4virgC0mDAV178OVKYaGyw70A7RINOp90pO0AAAAASUVORK5CYII=</field><field name="url">/assets/phaser/samples/ball_red.png</field></block>',general_sample_image_ball_green:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAS1BMVEUAAAA//z/t7e0R0hEOzg4h4iE9/j0n6ScJygkx8TEX1xc6+jo3+DdZ/Vlp+2lg/GBN/k1F/kUs7SzG8sYc2xzd8N3N8c2R95F7+Xuxsr1UAAAAAXRSTlMAQObYZgAAASJJREFUSMe1lttuAyEMRDE27LK3ZJP08v9fWkrloiQsMIpyXngambEt26aIGI7Epw9hF2ZKLMFxh2CY6Y7FSV0QqMAwHgrGgcp4dyCaPB0ycymEoxr+9iy5UIPhMUYgAjWOOrjdOacK5/W0npMfzgqp5GrfPq2111PKm/RY37/sH98UcapgOmazym8cr2FCxceHVa67Zq0eZLWZlSLSLOJmM9u/G/FIlEVr0uslMkXJQNSbMf3ZTEqrLomg+eqrvpohpdFjiroH4DdKXvwYE4jAkiWVEiKkhoFwBvY/afMjViIX9F8Gy5lUhmtlyEJhvOTRBzkxQNLygO2tjecXloUOWXiNtRffCK9XfInjpwJ+kFQY4bNHj6sFOK5UJswsYoqCH8u8DoFBM54BAAAAAElFTkSuQmCC</field><field name="url">/assets/phaser/samples/ball_green.png</field></block>',general_sample_image_ball_blue:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAMAAAAp4XiDAAAAQlBMVEUAAAA+Pv/t7e0ODs0REdAuLvAgIOIWFtUmJuk3N/hXV/0JCcdMTP5ERP5fX/xoaPvFxfIcHNp6evmQkPfMzPHc3PCc1gouAAAAAXRSTlMAQObYZgAAAQlJREFUSMe9lsmSwyAMRBESm5c4meX/f3WAKUPFcYg6h7wLp66mJQrJnMJGMvnQwcG7RJXkvCgEke5JnscCRydEVjt0njkFGnCWafY05PYocfSCePTIClDjScFNnXyZLtNyrAEPBOv2Y629XqjAmujrt/3nq/ZnV8jAZLM71Ydfmyy/TXJdW9WGJpPtTN3GDe/V2VoaJsQltZ7oshRClkQibcX2m5VT15eKa/XSdL+SmovqjVVKehDBJQGQfPRibIQwapExXH0wEN7A+UOWMBil4NB7GaxmfPhc9Z+sYCZYGm92GDXR90beHRZAHHyMxRker/gQx1cFfCEZMKNrD75cdZhFhNmcCv4AvgwM2Pf0rEYAAAAASUVORK5CYII=</field><field name="url">/assets/phaser/samples/ball_blue.png</field></block>',general_sample_image_50px_red:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEX/XV2ZAABKhU15AAAAPUlEQVQY02P4DwYHGBoYQMBhlMZBt59nPtEApFsEmjSgtCoDEt08ofkQWH1AEysazdEA0t/PBKRxmg+LBwDPjDxK1kqocgAAAABJRU5ErkJggg==</field><field name="url">/assets/phaser/samples/50px_red.png</field></block>',general_sample_image_50px_green:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEXQ/FxgnAAuZaaQAAAAPUlEQVQY02P4DwYHGBoYQMBhlMZBt59nPtEApFsEmjSgtCoDEt08ofkQWH1AEysazdEA0t/PBKRxmg+LBwDPjDxK1kqocgAAAABJRU5ErkJggg==</field><field name="url">/assets/phaser/samples/50px_green.png</field></block>',general_sample_image_50px_blue:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyAQMAAAAk8RryAAAABlBMVEVcvPwAXJwoG/B+AAAAPUlEQVQY02P4DwYHGBoYQMBhlMZBt59nPtEApFsEmjSgtCoDEt08ofkQWH1AEysazdEA0t/PBKRxmg+LBwDPjDxK1kqocgAAAABJRU5ErkJggg==</field><field name="url">/assets/phaser/samples/50px_blue.png</field></block>',general_sample_image_bg_01:'<block type="static_image_file"><field name="urlData">data:image/png;base64,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</field><field name="url">/assets/phaser/samples/bg/bg_01.png</field></block>',general_sample_image_player:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAMAAADyHTlpAAABaFBMVEUAAAACi/D////7/PsgcrvQ0NDBwsEeuZ3x8vLNy8sAAABdyk3p7PEEkuVekL0kccC343ba2tognqeQl5qG0RwBh/YqhXvFxcUdccMRsrJrbm/n5ubh4eHV1dUJntMswoTs7OwXuaQrgY2z4W80h2pLx1tlnC/39/fo6erd3d0ddMskbbQkeqsnwIh2vSAmk/wDj+q/y7fM6KO43n8sjXWIqltZyUwTi/wIhO0Gl94OmNALpscOrbshdrYnbK4ubak2bqJlhZ9AcJ0bvpsqfpXC45IqhYYjl4U4xHWRq240lWxDxWY/omBKo1FSqEhfxkSa2EBeqjpymzmQ1DRlpTBmky+EzSIej/oqiuPi4uITfOLm7tycuNFqm8gXj8cahMTT4b/W7bTK3LOwsLAcn6+zwacXsaZLeJ4pfZ0cpZupu5U4apUcq5IueYmetII3nGpMtFSf101/pUhszEJ4zz+D0TyBtTVupCWk42KvAAAAAXRSTlMAQObYZgAAAe9JREFUOMu11FdX2zAYgGE5iosDSYux8TZJHNvZiwxGKS2FsltGge699y5/H8kDPJSrhPdGuniOjvzpHIPLb5qKNj1Izsj5sWB5eXGeKOda+brVn7iob9U/vaiQaLO1avH7hUm/wq+Tnxu1KiBF5a37szDhB1//vyfUbpKpvLP/Cp5L2D68K9y4Rf6spU106vh4Gku0vDveFZK3yfT65r/Z4gX9fLy7LoEBNPv3DuNSfPh3+4eRHDTX7J8g3TraXhtA5xbqex2P4nv0Drofq4Dcwmq/k0unIUzANOr3gVBbDosk5W0yeavwhFGKEDIlpdQ+PB8rlYzSlrxz0nnJKaqqKlx76xSPNUqb3hss1fcajR6nKArXazSOttfdsTZdWqVQmYw7gsX3X7umKXAcJ5im2d34Jn1wLoZNFSRRvn0w//ztFEqW5Snc2rK04kqsAA5jxz58XLkWqFL5wjnSdSH79NnVUCuc6MuoLaeuhBJZX0ZtuZxjguU01pMxy6owXI6l4xJbrczARDBY1FJYxi2rIRm2qk6T6CO2BKMxbIpEWZZRU+H0nEbrBKrrdKwUrYukU2lS4hsCLXnzj73CcEkS5TaD8raSBIbNMMacsihnYxhgFNn2BIpHocW2wcjiefQXLkzyPBhtWkIUE2CYzgD3vELlgidxEwAAAABJRU5ErkJggg==</field><field name="url">/assets/phaser/samples/player.png</field></block>',general_sample_image_paddle:'<block type="static_image_file"><field name="urlData">data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAAeCAMAAADthUvBAAABI1BMVEUAAAArKSkrKiksKyorKiksKyorKykrKikrKigvLy0oJiYoKCQ5ODcrKikxMTEtLSosLCk8PDu3trZ4eHdFREMyMjEsKipNTUt/f38oJCRYVlaLi4lzcnGmpqVJSEejoqIrKipoZmYrKilGRUVEQ0MvLi2FhoZXVlVqammZmppiYWBmZWU3NjaIiYl3eHg1NDP+/v5UVFRPT08/Pj5KSUlZWVk6OTlmZmbu7u6gn5+3traMjIz39/fd3NzCwsLh4eGAgID09PS+v77p6enKysqvr6+qqqqmpqajo6OSkpJ6enpycXH5+fnm5uaWlZVtbWxjY2Lx8fHk4+PW1tZ0dHNMTEvS0tLPz8+6urp9fHyXl5eHh4fY2NjFxcWzsrKPjo7Hx8eG6ZG7AAAAInRSTlMAYfH35sxu2ZhOLBXqeFZAN/X06sWtin5YJPPx8e7p4beBnAdZ7gAAA3hJREFUSMe91WdT20AQBmDFgCGk995k2XIB6U7yndVluffeC/D/f0X2TnZITPIl0eT5cLu3MLxzsx4s/HdPH8fPXj+694/ir8/ij58++G3Ck5fPXojR+fzy3t1HPPwwQigRHeR/OjqIefXCQSAbHQS+vBFunb99PuIh6egg5vm3c2HvjerNuixFjg5iDPXtPuP+e7PqjcsdhKToIDB0Kx8fC9yDh0vbvIIUhJIhPcFOCav8AuUQlXVWVCwl/wQyAn++qD8MP8sncnp5bVo3m/I+pJSBoxeMuloyaQejspz8Vc7wg2YymfdHgfnnkM5oVqqtWif8Icd50i82G9aNa6iMbiFTVUmgqeZclR2s9sbqL2h5rWJHVr26OjVy6u8hVB571cx6EmMh944ueErdqriUcStbk1LTojSBpiuPUh3JMMYpndIioTCuQ+cvdYQprVUpkNMFE36sDCglS8ohY7O9Mm1l8Ow+hHwVRTrNtlO9+qKiM4puNXTdy0Bbbi8aUEYtOCTf1G1jqoeUAOccqNdzdrO77sr19EtjmuhmdA6WbpnXrQKmryDkWNyn1BZSaFGXpHkTGj91k4HiXrJp25kEKSlkoJo0MaBZu+x67WAJO2lpblXdhMSxpTeLaVlKHkOIyOhadpJa1fKhUj2fn/Wg8VMVE4pr8/EVusnvkLbRUwxobJddmxU45r38wOn08yG29FSfJFRR5CFhymCyzmihUk3Ttg1ojCVrtW6Kj5uorv3QGLcdKJkZu/Q8OCqmhrsG0UJ86dnphSiyj1dMZJI6zimXOORVMa55GGfRoFHBmKA0BoOh5fRZM9nIGDfGBMHNsjBYbeDwbVwdzRY4xJeuUfjTRxByKt6mkJBXJURxFGKNSdtZkqpLmO2MlMasyQ5N0i83SKVE2kGRgAxak2YwUFCx3UkRji9dF8EphDwSQ6okF3a2Fhy1zrC8LBTqnaFRZMNep1VoDxustQ2jU0oXlG7QsQpMo9s1hs20XyoUrsp9PgqXLoIz9mV1fJui/Kxot/blUMsu8gqFq7qtw98Klw5i7wS+lB01cfmXLP/OiC+dC/8J/0i5yPyl0ubOiC2dicUF7kTcS0WHLZ0Tdo7EnVx02NL553fvXNxJREe9fcfBWy6iE77jXPiZGBMjFzsRDsSjjjmO3Rfuend2ehTZI04fPRH+r+8h1riDoCbzLwAAAABJRU5ErkJggg==</field><field name="filename">paddle.png</field><field name="url">/assets/phaser/samples/paddle.png</field></block>'};const x={replaceLegacyBlocks:function(e){return e.includes("general_sample_image_")&&(console.log("Replacing general sample image blocks..."),e=function(e){for(const[t,i]of Object.entries(j))e=e.replace(`<block type="${t}"></block>`,i);return e}(e)),e.includes("general_file_library_image")&&(console.log("Replacing general file library image blocks..."),e=function(e){return e.replace(/<block type="general_file_library_image">\s*<field name="filename">([^<]*)<\/field>\s*<field name="preview">([^<]*)<\/field>\s*<\/block>/g,'<block type="dynamic_image_file"><field name="filename">$1</field><field name="url">$1</field><field name="urlData">$2</field></block>')}(e)),e}};i(8611);var v=i(5466),R=i(35);class Z{constructor(e,t,i){this.config_={},this.database_=null,this.name_=e,this.defaultObjectStore_=t||"__data__",this.knownObjectStores_=[this.defaultObjectStore_],this.upgradeNeeded_=!1,this.version_=i}open(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config_;if(!("indexedDB"in window)||"undefined"==typeof indexedDB||"TestIndexedDBDisabled"in window)return Promise.reject(new Error("IndexedDB is disabled or not supported by this browser!"));const t=this.config_;let i=[this.defaultObjectStore_];return e&&(this.config_=e,e.objectStoreNames&&(i=i.concat(e.objectStoreNames))),this.knownObjectStores_=i,new Promise(((e,i)=>{if(this.database_&&t===this.config_&&!this.upgradeNeeded_)return e(this.database_);console.log(`Opening database ${this.name_} with ${this.version_||"auto version"} ...`);const o=indexedDB.open(this.name_,this.version_);o.onsuccess=t=>{this.handleOnSuccess(t).then(e)},o.onblocked=e=>{this.handleOnBlocked(e).then(i)},o.onerror=e=>{this.handleOnError(e).then(i)},o.onupgradeneeded=this.handleOnUpgradeNeeded.bind(this)}))}handleOnBlocked(e){return new Promise((t=>{console.error(`Database ${this.name_} is blocked!`,e),t(e)}))}handleOnSuccess(e){return new Promise(((t,i)=>e&&e.target?(this.database_=e.target.result,this.version_=this.database_.version,this.database_.onversionchange=e=>{console.warn(`Database ${this.name_} is outdated and will be closed!`,e),this.database_.close(),i(new Error("Database is outdated!"))},this.database_.objectStoreNames.contains(this.defaultObjectStore_)?(console.info(`Opened database ${this.name_} with version ${this.version_}.`),this.upgradeNeeded_=!1,t(this.database_)):(console.warn(`Opened database ${this.name_} with version ${this.version_} but default object store ${this.defaultObjectStore_} is missing!`),this.version_=this.database_.version+1,this.database_.close(),this.upgradeNeeded_=!0,void setTimeout((()=>{this.open().then(t)}),100))):i(new Error(`Unable to open database ${this.name_}!`))))}handleOnError(e){return new Promise((t=>{console.error(`Unable to open database ${this.name_} with error:`,e),t(e)}))}handleOnUpgradeNeeded(e){return new Promise((t=>{if(e.target){const i=e.target.result;console.log(`Upgrading database ${this.name_} to version ${i.version}`),this.knownObjectStores_.forEach((e=>{i.objectStoreNames.contains(e)||(console.info("Create Object Store",e),i.createObjectStore(e))})),this.upgradeNeeded_=!1,t(i)}}))}execute(e,t){for(var i=arguments.length,o=new Array(i>2?i-2:0),s=2;s<i;s++)o[s-2]=arguments[s];return new Promise(((i,s)=>{if(void 0!==t&&!this.existObjectStore_(t))return s(new Error(`Object store group ${t} does not exists in database!`));this.open().then((()=>{console.log(`[${this.name_}:${t||this.defaultObjectStore_}] Executing ${e}(${o})`);const n=["get","getAll","getAllKeys"].includes(e)?this.getObjectStoreReadOnly_(t):this.getObjectStore_(t);if(!n)return s(new Error(`Object store ${n} for group ${t} does not exists in database!`));if("function"!=typeof n[e])return s(new Error(`Object store ${n} for group ${t} does not support command ${e}!`));const a=n[e](...o);a.onsuccess=()=>{i(a.result)},a.onerror=t=>{s(new Error(`Failed to execute transaction "${e}" for ${this.name_} with "${o}": ${t.target.error}`))},a.onabort=()=>{s(new Error(`Transaction "${e}" for ${this.name_} aborted!`))}}))}))}close(){this.database_&&this.database_.close()}add(e,t,i){return this.execute("add",i,t,e)}clear(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultObjectStore_;return this.execute("clear",e,e)}put(e,t,i){return this.execute("put",i,t,e)}get(e,t){return this.execute("get",t,e)}getAll(e,t,i){return this.execute("getAll",e,t,i)}getAllKeys(e,t,i){return this.execute("getAllKeys",e,t,i)}async getAllWithKeys(e,t,i){const o=await this.getAllKeys(e,t,i),s=await this.getAll(e,t,i),n=new Map,a=s.length;for(let e=0;e<a;e++)o[e]&&n.set(o[e],s[e]);return n}delete(e,t){return this.execute("delete",t,e)}setObjectStoreName(e){return this.defaultObjectStore_=e,this}getObjectStoreName(){return this.defaultObjectStore_}setVersion(e){const t=Math.round(Number(e));return Number.isInteger(t)&&(this.version_=t),this}getVersion(){return this.version_}getObjectStore_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultObjectStore_;return this.database_?.transaction(e,"readwrite").objectStore(e)}getObjectStoreReadOnly_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultObjectStore_;return this.database_?.transaction(e,"readonly").objectStore(e)}existObjectStore_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.defaultObjectStore_;return!(!this.database_||!this.database_.objectStoreNames.contains(e))}}const M="qelWOQl5WslSK89sNBK7",I="vxx2yxyOkh2NfBYiBm3p",U=location.host.endsWith(".github.io")?location.pathname:"/";class N extends o.PureComponent{constructor(e){super(e),this.projectId=e.projectId||(0,y.Z)(),this.projectName=e.projectName||"New Project",this.blockyWorkspace=null,this.codeEditor=(0,o.createRef)(),this.toolbar=(0,o.createRef)(),this.fileUploadButton=(0,o.createRef)(),this.timer={handleXMLChange:null},this.isDragging=!1,this.database=new Z("BlockEditor",this.projectId),this.state={file:null,showEditor:!1,showDrawer:!1,config:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0},zoom:{controls:!0,wheel:!0,startScale:.9,maxScale:3,minScale:.5,scaleSpeed:1.1},media:U+"assets/blockly/",trashcan:!1},variables:[],xml:e.content||'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>'},this.props.windowId&&C.f.windowManagerEventTarget.addEventListener("windowResize",this.handleWindowResize.bind(this)),this.database.get("workspace").then((e=>{e&&this.loadWorkspace(e)})),console.log("Adding block editor with project id: ",this.projectId)}showBlockEditor(){console.log("Show Block Editor ..."),this.setState({showEditor:!1},(()=>{this.resize()}))}async showCodeEditor(){console.log("Show Code Editor ...");const e=this.getWorkspaceCode();this.codeEditor&&this.codeEditor.current.setValue(e),this.setState({showEditor:!0},(()=>{this.codeEditor.current.resize()}))}getWorkspaceCode(){let e=v.javascriptGenerator.workspaceToCode(this.blockyWorkspace)||"";return this.props.template&&"function"==typeof this.props.template&&(e=this.props.template(e,this.projectId,this.projectName,this.blockyWorkspace)),e}praseXML(e){return e=x.replaceLegacyBlocks(e),this.props.parseXML&&"function"==typeof this.props.parseXML&&(e=this.props.parseXML(e)),e}handleUndo(){console.log("Undo ..."),this.blockyWorkspace?.undo(!1)}handleRedo(){console.log("Redo ..."),this.blockyWorkspace?.undo(!0)}loadWorkspace(e){if(!this.blockyWorkspace)return;console.log("Loading workspace ...",e);const t=this.praseXML(e);n().Xml.clearWorkspaceAndLoadFromXml(n().utils.xml.textToDom(t),this.blockyWorkspace),this.setState({parsedXML:t}),this.resize(),this.refresh()}onLoad(e){this.blockyWorkspace=e,this.blockyWorkspace.addChangeListener(this.handleBlocklyEvent.bind(this)),this.blockyWorkspace.addChangeListener(n().Events.disableOrphans),this.resize(),this.refresh()}handleBlocklyEvent(e){this.isDragging="drag"===e.type}handleWorkspaceChange(e){}handleXMLChange(e){this.state.xml==e||this.isDragging||(this.timer.HandleXMLChange&&clearTimeout(this.timer.HandleXMLChange),this.timer.HandleXMLChange=setTimeout((()=>{console.log("XML change",e),this.setState({xml:e});const t=this.blockyWorkspace?.getAllVariables();t&&t!=this.state.variables&&(console.log("Variables change",t),this.setState({variables:t})),this.props.onChange&&"function"==typeof this.props.onChange&&this.props.onChange(this.getWorkspaceCode())}),500))}handleWindowResize(e){e.getWindowId()==this.props.windowId&&this.resize()}handleOpenDrawer(){this.setState({showDrawer:!0})}handleCloseDrawer(){this.setState({showDrawer:!1})}handleRequestOpenFile(){this.fileUploadButton.current.click()}handleOpenFile(e){if(e.target.files&&e.target.files[0]){const t=e.target.files[0];if(t){console.log("Open a file ...",t);const e=new FileReader;e.onload=e=>{const i=e?.target?.result;this.handleOpenFileContent(t,i)},e.readAsText(t)}}this.handleCloseDrawer()}handleOpenFileContent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";console.log("Handle file content ...",e.name,t);const i=new B(t||"");if(console.log("Parsed file",i),this.blockyWorkspace){if(i.hasFiles()){console.log("Handle additional files ...");i.getFiles().forEach((e=>{console.log("Handle additional file",e)}))}i.hasContent(P)&&this.loadWorkspace(i.getContent(P)),this.props.onLoadFile&&"function"==typeof this.props.onLoadFile&&this.props.onLoadFile(this.blockyWorkspace)}this.setState({file:e})}handleSave(){console.log("Save ...",this.database,this.projectId),this.database.put("name",this.projectName),this.database.put("workspace",this.state.xml),this.database.put("lastUpdate",(new Date).toISOString())}handleSaveAs(){console.log("Save as ...");const e=new Blob([this.state.xml],{type:"text/plain"}),t=document.createElement("a");t.download=`${this.projectName}-${this.projectId}.xml`,t.innerHTML="Download File",null!=window.webkitURL?t.href=window.webkitURL.createObjectURL(e):(t.href=window.URL.createObjectURL(e),t.style.display="none",document.body.appendChild(t)),t.click()}resetZoom(){this.blockyWorkspace?.setScale(1),this.blockyWorkspace?.scrollCenter()}refresh(){const e=this.blockyWorkspace?.getToolbox();e&&(this.blockyWorkspace?.updateToolbox(this.props.toolbox),console.log("Refresh toolbox ..."),e.refreshSelection())}resize(){if(this.blockyWorkspace){const e=this.blockyWorkspace.getInjectionDiv().closest(".wb-body")||this.blockyWorkspace.getInjectionDiv().parentElement;if(e){const t=this.blockyWorkspace.getInjectionDiv().parentElement;t&&t!=e&&(this.toolbar.current?t.style.height=e.clientHeight-this.toolbar.current.clientHeight+"px":t.style.height=e.clientHeight+"px")}window.dispatchEvent(new Event("resize")),this.resetZoom()}}getToolboxCategory(){return{kind:"categoryToolbox",contents:[{kind:"category",name:"Logic",colour:"#5C81A6",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare"}]},{kind:"category",name:"Math",colour:"#5CA65C",contents:[{kind:"block",type:"math_round"},{kind:"block",type:"math_number"}]},{kind:"category",name:"Custom",colour:"#5CA699",contents:[{kind:"block",type:"new_boundary_function"},{kind:"block",type:"return"}]}]}}render(){return o.createElement(o.StrictMode,null,o.createElement(a.Z,{sx:{display:this.state.showEditor?"none":"block"}},o.createElement(R.o8,null,o.createElement(R.rP,{"aria-label":"menu",onClick:this.handleOpenDrawer.bind(this)},o.createElement(p.Z,null)),(this.state.file,o.createElement(R.rP,{"aria-label":"save",onClick:this.handleSave.bind(this)},o.createElement(k.Z,null))),!this.state.file&&o.createElement(R.rP,{"aria-label":"save_as",onClick:this.handleSaveAs.bind(this)},o.createElement(b.Z,null)),o.createElement(R.rP,{"aria-label":"undo",onClick:this.handleUndo.bind(this)},o.createElement(E.Z,null)),o.createElement(R.rP,{"aria-label":"redo",onClick:this.handleRedo.bind(this)},o.createElement(u.Z,null)),o.createElement(R.hA,{variant:"contained"},"Create new Variable"),this.codeEditor&&o.createElement(R.rP,{"aria-label":"code",onClick:this.showCodeEditor.bind(this)},o.createElement(r.Z,null))),o.createElement(l.ZP,{anchor:"left",open:this.state.showDrawer,onClose:this.handleCloseDrawer.bind(this)},o.createElement(g.Z,{sx:{minWidth:"250px"}},o.createElement(A.Z,{onClick:this.handleRequestOpenFile.bind(this)},o.createElement(d.Z,null,o.createElement(c.Z,{fontSize:"small"})),o.createElement(h.Z,null,"Open File"),o.createElement(w.Z,{variant:"body2",color:"text.secondary"},"-"),o.createElement("input",{ref:this.fileUploadButton,type:"file",onChange:this.handleOpenFile.bind(this),hidden:!0})))),o.createElement(a.Z,null,o.createElement(O.E7,{className:this.props.windowId?I:M,toolboxConfiguration:this.props.toolbox||this.getToolboxCategory(),workspaceConfiguration:this.state.config,initialXml:this.props.content||"",onInject:this.onLoad.bind(this),onWorkspaceChange:this.handleWorkspaceChange.bind(this),onXmlChange:this.handleXMLChange.bind(this)}))),o.createElement(a.Z,{sx:{display:this.state.showEditor?"block":"none"}},o.createElement(S.CodeEditor,{windowId:this.props.windowId,projectId:this.projectId,blockEditor:this,ref:this.codeEditor})))}}N.propTypes={content:f().string,projectId:f().string,projectName:f().string,template:f().func,parseXML:f().func,onChange:f().func,onLoadFile:f().func,onSaveFile:f().func,toolbox:f().object,windowId:f().string}},5603:(e,t,i)=>{i.r(t),i.d(t,{CodeEditor:()=>y});var o=i(3720),s=i(1508),n=i(6214),a=i(854),r=i(6867),l=i(326),c=i(5863),d=i(5697),h=i.n(d),p=i(7294),A=i(4993),g=i(4386),m=i(5378),f=i(5383),u=i(8721),b=i(7289);i(8611);const k="JAVmoUaQLBB4lUPhrfAj",w="teUPw9TATa_PS3pCy0sk";var E=i(6787);class y extends p.PureComponent{constructor(e){super(e),this.projectId=e.projectId||(0,u.Z)(),this.toolbar=p.createRef(),this.infobar=p.createRef(),this.state={content:e.content||"",editorState:null,editorView:null},this.props.windowId?b.f.windowManagerEventTarget.addEventListener("windowResize",this.handleWindowResize.bind(this)):window.addEventListener("resize",this.resize.bind(this)),console.log("Adding code editor with project id: ",this.projectId)}setValue(e){console.log("Set editor content:",e),this.setState({content:e})}getValue(){return this.state.content||""}handleWindowResize(e){e.getWindowId()==this.props.windowId&&this.resize()}handleUndo(){this.state.editorView&&(0,f.Yw)({state:this.state.editorView.state,dispatch:this.state.editorView.dispatch})}handlePreview(){E.m.saveHTMLFile("index.html",this.getValue())}handleRedo(){this.state.editorView&&(0,f.KX)({state:this.state.editorView.state,dispatch:this.state.editorView.dispatch})}onChange(e){console.log("change",e),this.setState({content:e})}onCreateEditor(e,t){this.setState({editorView:e,editorState:t},(()=>{this.resize()}))}resize(){if(this.state.editorView&&this.state.editorView.dom){const e=this.state.editorView.dom,t=e.closest(".wb-body")||e.closest(".mosaic-tile")||e.parentElement;t&&t.clientHeight>100&&t.clientWidth>100&&(null!=this.toolbar.current&&null!=this.infobar.current?e.style.height=t.clientHeight-this.toolbar.current.clientHeight-this.infobar.current.clientHeight-1+"px":e.style.height=t.clientHeight+"px")}}render(){return p.createElement(p.StrictMode,null,p.createElement(o.Z,{position:"static"},p.createElement(g.Z,{variant:"dense",className:k,ref:this.toolbar},p.createElement(r.Z,{edge:"start",color:"inherit","aria-label":"menu"},p.createElement(l.Z,null)),p.createElement(r.Z,{edge:"start",color:"inherit","aria-label":"undo",onClick:this.handleUndo.bind(this)},p.createElement(m.Z,null)),p.createElement(r.Z,{edge:"start",color:"inherit","aria-label":"redo",onClick:this.handleRedo.bind(this)},p.createElement(A.Z,null)),this.props.blockEditor&&p.createElement(r.Z,{edge:"start",color:"inherit","aria-label":"code",onClick:this.props.blockEditor.showBlockEditor.bind(this.props.blockEditor)},p.createElement(n.Z,null)),p.createElement(r.Z,{edge:"start",color:"inherit","aria-label":"preview",onClick:this.handlePreview.bind(this)},p.createElement(c.Z,null)))),p.createElement(a.ZP,{value:this.state.content,onCreateEditor:this.onCreateEditor.bind(this),onChange:this.onChange.bind(this)}),p.createElement(s.Z,{className:w,ref:this.infobar},"Test"))}}y.propTypes={blockEditor:h().object,content:h().string,projectId:h().string,windowId:h().string}},35:(e,t,i)=>{i.d(t,{hA:()=>g,o8:()=>p,rP:()=>A});var o=i(7462),s=i(7294),n=i(6532),a=i(1508),r=i(6867),l=i(6914);const c=(0,n.ZP)(a.Z)`
  align-items: center;
  background: #f2f2f2;
  color: #333;
  display: flex;
  font-size: 16px;
  height: 37px;
  justify-content: space-between;
  line-height: 16px;
  padding: 2px 4px;
`,d=(0,n.ZP)(r.Z)`
  padding: 5px 10px;
`,h=(0,n.ZP)(l.Z)`
  padding: 5px 10px;
`;function p(e){return s.createElement(c,e)}function A(e){return s.createElement(d,(0,o.Z)({color:"primary"},e))}function g(e){return s.createElement(h,(0,o.Z)({color:"primary"},e))}}}]);