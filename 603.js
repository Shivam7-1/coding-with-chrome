/*! For license information please see 603.js.LICENSE.txt */
(self.webpackChunkcoding_with_chrome=self.webpackChunkcoding_with_chrome||[]).push([[603,549],{326:(e,t,i)=>{"use strict";var s=i(4836);t.Z=void 0;var n=s(i(4938)),r=i(5893),o=(0,n.default)((0,r.jsx)("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");t.Z=o},1508:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var s=i(7462),n=i(3366),r=i(7294),o=i(6010),a=i(2357),l=i(6523),c=i(9707),h=i(6682),d=i(5893);const u=["className","component"];var p=i(7078),g=i(9617),m=i(606);const v=(0,g.Z)(),w=function(e={}){const{themeId:t,defaultTheme:i,defaultClassName:p="MuiBox-root",generateClassName:g}=e,m=(0,a.ZP)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(l.Z);return r.forwardRef((function(e,r){const a=(0,h.Z)(i),l=(0,c.Z)(e),{className:v,component:w="div"}=l,f=(0,n.Z)(l,u);return(0,d.jsx)(m,(0,s.Z)({as:w,ref:r,className:(0,o.Z)(v,g?g(p):p),theme:t&&a[t]||a},f))}))}({themeId:m.Z,defaultTheme:v,defaultClassName:"MuiBox-root",generateClassName:p.Z.generate}),f=w},5603:(e,t,i)=>{"use strict";i.r(t),i.d(t,{CodeEditor:()=>y});var s=i(3720),n=i(1508),r=i(6214),o=i(854),a=i(6867),l=i(326),c=i(5863),h=i(5697),d=i.n(h),u=i(7294),p=i(4993),g=i(4386),m=i(5378),v=i(5383),w=i(8721),f=i(7289);i(8611);const E="JAVmoUaQLBB4lUPhrfAj",b="teUPw9TATa_PS3pCy0sk";var C=i(6787);class y extends u.PureComponent{constructor(e){super(e),this.projectId=e.projectId||(0,w.Z)(),this.toolbar=u.createRef(),this.infobar=u.createRef(),this.state={content:e.content||"",editorState:null,editorView:null},this.props.windowId?f.f.windowManagerEventTarget.addEventListener("windowResize",this.handleWindowResize.bind(this)):window.addEventListener("resize",this.resize.bind(this)),console.log("Adding code editor with project id: ",this.projectId)}setValue(e){console.log("Set editor content:",e),this.setState({content:e})}getValue(){return this.state.content||""}handleWindowResize(e){e.getWindowId()==this.props.windowId&&this.resize()}handleUndo(){this.state.editorView&&(0,v.Yw)({state:this.state.editorView.state,dispatch:this.state.editorView.dispatch})}handlePreview(){C.m.saveHTMLFile("index.html",this.getValue())}handleRedo(){this.state.editorView&&(0,v.KX)({state:this.state.editorView.state,dispatch:this.state.editorView.dispatch})}onChange(e){console.log("change",e),this.setState({content:e})}onCreateEditor(e,t){this.setState({editorView:e,editorState:t},(()=>{this.resize()}))}resize(){if(this.state.editorView&&this.state.editorView.dom){const e=this.state.editorView.dom,t=e.closest(".wb-body")||e.closest(".mosaic-tile")||e.parentElement;t&&t.clientHeight>100&&t.clientWidth>100&&(null!=this.toolbar.current&&null!=this.infobar.current?e.style.height=t.clientHeight-this.toolbar.current.clientHeight-this.infobar.current.clientHeight-1+"px":e.style.height=t.clientHeight+"px")}}render(){return u.createElement(u.StrictMode,null,u.createElement(s.Z,{position:"static"},u.createElement(g.Z,{variant:"dense",className:E,ref:this.toolbar},u.createElement(a.Z,{edge:"start",color:"inherit","aria-label":"menu"},u.createElement(l.Z,null)),u.createElement(a.Z,{edge:"start",color:"inherit","aria-label":"undo",onClick:this.handleUndo.bind(this)},u.createElement(m.Z,null)),u.createElement(a.Z,{edge:"start",color:"inherit","aria-label":"redo",onClick:this.handleRedo.bind(this)},u.createElement(p.Z,null)),this.props.blockEditor&&u.createElement(a.Z,{edge:"start",color:"inherit","aria-label":"code",onClick:this.props.blockEditor.showBlockEditor.bind(this.props.blockEditor)},u.createElement(r.Z,null)),u.createElement(a.Z,{edge:"start",color:"inherit","aria-label":"preview",onClick:this.handlePreview.bind(this)},u.createElement(c.Z,null)))),u.createElement(o.ZP,{value:this.state.content,onCreateEditor:this.onCreateEditor.bind(this),onChange:this.onChange.bind(this)}),u.createElement(n.Z,{className:b,ref:this.infobar},"Test"))}}y.propTypes={blockEditor:d().object,content:d().string,projectId:d().string,windowId:d().string}},151:(e,t,i)=>{"use strict";i.d(t,{CY:()=>s,Sl:()=>r,TC:()=>n});const s=location.host.endsWith(".github.io")?location.pathname:"/",n="Cache",r="PreviewCache"},6787:(e,t,i)=>{"use strict";i.d(t,{m:()=>o});var s=i(2418),n=i(9650),r=i(151);class o{constructor(){this.events=new s.b("Service Worker: Preview","",this),this.registered=!1,this.register(),this.allowList=location.host.endsWith(".github.io")?/^(http|https):\/\/([^/]+)\/([^/]+)\/preview\/[^/]+\/?/:/^(http|https):\/\/([^/]+)\/preview\/[^/]+\/?/,this.counter=0}register(){this.registered||(console.log(`Register Preview Service Worker with cache ${r.Sl} ...`),this.events.listen(self,n.t.ACTIVATE,this.activate),this.events.listen(self,n.t.INSTALL,this.install),this.events.listen(self,n.t.FETCH,this.fetch),this.registered=!0)}activate(e){console.log("Activate Preview Service Worker ...",e)}install(){console.log("Install Preview Service Worker ...")}fetch(e){if(null!=e.request&&this.allowList.test(e.request.url))if(console.log("Preview fetch request",e),"POST"===e.request.method)e.respondWith(caches.open(r.Sl).then((t=>e.request.text().then((i=>{const s=new Response(i);return t.put(e.request,s.clone()),s})))));else if("GET"===e.request.method){if(e.request.url.endsWith(r.CY+"preview/test123"))return void e.respondWith(new Response("Hello World! "+this.counter++));e.respondWith(caches.match(e.request).then((e=>e||new Response("Not found"))))}}static async saveHTMLFile(e,t){return o.saveFile(e,t,"text/html; charset=utf-8")}static async saveFile(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain; charset=utf-8";e.startsWith(r.CY+"preview/")||(e=e.startsWith(r.CY)?e.slice(r.CY.length)+r.CY+"preview"+e:r.CY+"preview/"+e);const s=await caches.open(r.Sl),n=e,o=new Response(t,{headers:{"Content-Type":i}});console.log("Save preview file",n,o),await s.put(n,o)}}new o},2418:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});class s{constructor(e,t,i,s){let n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"";if(this.target=null,this.type=t,this.listener=i,this.options=s,"string"==typeof e||e instanceof String){if(this.target=document.getElementById(n+e),!this.target)throw new Error(`Unable to find element ${n}${e}!`)}else this.target=e;if(!this.target)throw new Error(`Undefined event target: ${this.target}!`);if("function"!=typeof i)throw new Error(`Listener is not a function: ${i}!`)}}class n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Events",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.name=e||"",this.prefix=t||"",this.scope=i,this.listener_=[]}listen(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];const a=new s(e,t,this.scope?i.bind(this.scope):i,{capture:n,once:r,passive:o},this.prefix);return a.target?(a.target.addEventListener(a.type,a.listener,a.options),this.listener_.push(a)-1):null}listenOnce(e,t,i){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3],n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],r=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return this.listen(e,t,i,s,n,r)}unlisten(e){const t=this.listener_[e];if(!t)throw new Error(`Unknown listener key: ${e}!`);const{target:i,type:s,listener:n,options:r}=t;i.removeEventListener(s,n,r),delete this.listener_[e]}getLength(){return this.listener_.length-1}}},9650:(e,t,i)=>{"use strict";i.d(t,{t:()=>s});const s={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",DRAGEND:"dragend",DRAGSTART:"dragstart",ERROR:"error",INSTALL:"install",ACTIVATE:"activate",FETCH:"fetch"}},2703:(e,t,i)=>{"use strict";var s=i(414);function n(){}function r(){}r.resetWarningCache=n,e.exports=function(){function e(e,t,i,n,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var i={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:n};return i.PropTypes=i,i}},5697:(e,t,i)=>{e.exports=i(2703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},8721:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});const s={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let n;const r=new Uint8Array(16);function o(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)}const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function l(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}const c=function(e,t,i){if(s.randomUUID&&!t&&!e)return s.randomUUID();const n=(e=e||{}).random||(e.rng||o)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(let e=0;e<16;++e)t[i+e]=n[e];return t}return l(n)}}}]);